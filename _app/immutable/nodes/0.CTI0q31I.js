import{d as Q,f as k,s as I,a as $,e as ae,g as te}from"../chunks/DscdaUK8.js";import{i as ve}from"../chunks/tUnkN8nb.js";import{o as xe,a as _e}from"../chunks/DX2lUfdR.js";import{V as we,_ as $e,v as oe,ac as u,s as o,a7 as r,a as e,ad as ue,z as n,y,A as l,w as D,x as re,u as ce,aa as ke,ae as Se,B as qe}from"../chunks/CtXWJ4Rl.js";import{i as G}from"../chunks/j1nT2hqj.js";import{s as se,a as Ee,r as je,e as pe,b as Me,t as Oe,c as K,d as Re,f as Ce,v as Le,l as Pe,i as Te,h as De,p as de,g as Ne}from"../chunks/BpYgI1IP.js";import{s as Ae}from"../chunks/DYPPFsVL.js";function Je(p,x,_,w,E){we&&$e();var c=x.$$slots?.[_],d=!1;c===!0&&(c=x.children,d=!0),c===void 0||c(p,d?()=>w:w)}const Fe=!0,it=Object.freeze(Object.defineProperty({__proto__:null,prerender:Fe},Symbol.toStringTag,{value:"Module"})),Be=()=>{const p=Ae;return{page:{subscribe:p.page.subscribe},navigating:{subscribe:p.navigating.subscribe},updated:p.updated}},Ie={subscribe(p){return Be().page.subscribe(p)}},Ue="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='107'%20height='128'%20viewBox='0%200%20107%20128'%3e%3ctitle%3esvelte-logo%3c/title%3e%3cpath%20d='M94.157%2022.819c-10.4-14.885-30.94-19.297-45.792-9.835L22.282%2029.608A29.92%2029.92%200%200%200%208.764%2049.65a31.5%2031.5%200%200%200%203.108%2020.231%2030%2030%200%200%200-4.477%2011.183%2031.9%2031.9%200%200%200%205.448%2024.116c10.402%2014.887%2030.942%2019.297%2045.791%209.835l26.083-16.624A29.92%2029.92%200%200%200%2098.235%2078.35a31.53%2031.53%200%200%200-3.105-20.232%2030%2030%200%200%200%204.474-11.182%2031.88%2031.88%200%200%200-5.447-24.116'%20style='fill:%23ff3e00'/%3e%3cpath%20d='M45.817%20106.582a20.72%2020.72%200%200%201-22.237-8.243%2019.17%2019.17%200%200%201-3.277-14.503%2018%2018%200%200%201%20.624-2.435l.49-1.498%201.337.981a33.6%2033.6%200%200%200%2010.203%205.098l.97.294-.09.968a5.85%205.85%200%200%200%201.052%203.878%206.24%206.24%200%200%200%206.695%202.485%205.8%205.8%200%200%200%201.603-.704L69.27%2076.28a5.43%205.43%200%200%200%202.45-3.631%205.8%205.8%200%200%200-.987-4.371%206.24%206.24%200%200%200-6.698-2.487%205.7%205.7%200%200%200-1.6.704l-9.953%206.345a19%2019%200%200%201-5.296%202.326%2020.72%2020.72%200%200%201-22.237-8.243%2019.17%2019.17%200%200%201-3.277-14.502%2017.99%2017.99%200%200%201%208.13-12.052l26.081-16.623a19%2019%200%200%201%205.3-2.329%2020.72%2020.72%200%200%201%2022.237%208.243%2019.17%2019.17%200%200%201%203.277%2014.503%2018%2018%200%200%201-.624%202.435l-.49%201.498-1.337-.98a33.6%2033.6%200%200%200-10.203-5.1l-.97-.294.09-.968a5.86%205.86%200%200%200-1.052-3.878%206.24%206.24%200%200%200-6.696-2.485%205.8%205.8%200%200%200-1.602.704L37.73%2051.72a5.42%205.42%200%200%200-2.449%203.63%205.79%205.79%200%200%200%20.986%204.372%206.24%206.24%200%200%200%206.698%202.486%205.8%205.8%200%200%200%201.602-.704l9.952-6.342a19%2019%200%200%201%205.295-2.328%2020.72%2020.72%200%200%201%2022.237%208.242%2019.17%2019.17%200%200%201%203.277%2014.503%2018%2018%200%200%201-8.13%2012.053l-26.081%2016.622a19%2019%200%200%201-5.3%202.328'%20style='fill:%23fff'/%3e%3c/svg%3e";var ze=k('<section class="result-pane svelte-ktcmex"><div class="result-row svelte-ktcmex"><span class="row-label svelte-ktcmex">Status</span> <div class="row-body framed svelte-ktcmex"><div class="progress-track svelte-ktcmex" role="progressbar" aria-valuemin="0" aria-valuemax="100"><div class="progress-fill svelte-ktcmex"></div></div> <div class="status-text svelte-ktcmex" aria-live="polite"> </div></div></div> <div class="result-row svelte-ktcmex"><span class="row-label svelte-ktcmex">JSON</span> <div class="row-body framed svelte-ktcmex"><code class="json-preview svelte-ktcmex" aria-label="Export preview" aria-live="polite"> </code></div></div></section>');function Ve(p,x){oe(x,!1);const _=()=>Q(je,"$resultsStore",E),w=()=>Q(pe,"$exportStore",E),[E,c]=ae(),d=r(),s=r(),v=r(),g=r(),f=r(),j=r(),M=r();let h=r([]),O=r({payload:[],json:"[]"}),N=r("[]");u(()=>_(),()=>{o(h,_())}),u(()=>w(),()=>{o(O,w())}),u(()=>e(O),()=>{o(N,e(O).json)}),u(()=>e(h),()=>{o(d,e(h).length)}),u(()=>e(d),()=>{o(s,e(d)*2)}),u(()=>e(h),()=>{o(v,e(h).reduce((W,B)=>W+(B.utility===null?0:1)+(B.probability===null?0:1),0))}),u(()=>(e(s),e(v)),()=>{o(g,e(s)===0?0:e(v)/e(s))}),u(()=>e(g),()=>{o(f,Math.round(e(g)*100))}),u(()=>(e(s),e(f)),()=>{o(j,e(s)===0||e(f)===0?0:Math.max(e(f),4))}),u(()=>(e(s),e(v),e(f)),()=>{o(M,e(s)===0?"No finalists loaded yet.":`${e(v)}/${e(s)} values complete (${e(f)}%)`)}),ue();var A=ze(),J=n(A),U=y(n(J),2),R=n(U),X=n(R);let z;l(R);var P=y(R,2),Y=n(P,!0);l(P),l(U),l(J);var S=y(J,2),V=y(n(S),2),F=n(V),T=n(F,!0);l(F),l(V),l(S),l(A),D(()=>{se(R,"aria-valuenow",e(f)),se(R,"aria-valuetext",`${e(v)} of ${e(s)}`),z=Ee(X,"",z,{width:`${e(j)}%`}),I(Y,e(M)),I(T,e(N))}),$(p,A),re(),c()}var We=k('<div><p class="svelte-qgs7me"> </p> <button type="button" class="close svelte-qgs7me" aria-label="Dismiss message">Ã—</button></div>'),He=k('<div class="toast-region svelte-qgs7me" aria-live="assertive" aria-atomic="false"></div>');function Ge(p,x){oe(x,!1);const _=()=>Q(Oe,"$toastStore",w),[w,E]=ae();function c(s){Re(s)}ve();var d=He();Me(d,5,_,s=>s.id,(s,v)=>{var g=We(),f=n(g),j=n(f,!0);l(f);var M=y(f,2);l(g),D(()=>{K(g,1,(e(v),ce(()=>`toast toast-${e(v).level}`)),"svelte-qgs7me"),I(j,(e(v),ce(()=>e(v).message)))}),te("click",M,()=>c(e(v).id)),$(s,g)}),l(d),$(p,d),re(),E()}var Ke=k('<link rel="icon"/>'),Qe=k('<nav class="header-nav svelte-12qhfyh"><button type="button" class="link svelte-12qhfyh"><span class="btn-icon svelte-12qhfyh" aria-hidden="true">â¬‡</span> Download JSON</button> <button type="button" class="link svelte-12qhfyh"><span class="btn-icon svelte-12qhfyh" aria-hidden="true">ðŸ“‹</span> Copy JSON</button></nav>'),Xe=k('<p class="export-feedback svelte-12qhfyh" aria-live="polite"> </p>'),Ye=k('<header class="app-header svelte-12qhfyh"><div class="brand svelte-12qhfyh"><h1 class="svelte-12qhfyh"><a href="/" class="svelte-12qhfyh"><span class="brand-name svelte-12qhfyh">Reunion 2026</span> <span class="brand-separator svelte-12qhfyh" aria-hidden="true">Â·</span> <span class="brand-phase svelte-12qhfyh">Phase 2 Final Ballot</span></a></h1></div> <!> <!> <div class="sr-announcer svelte-12qhfyh" aria-live="polite" aria-atomic="true"> </div></header>'),Ze=k('<div class="result-area svelte-12qhfyh" data-result-pane=""><!></div>'),et=k('<div><!> <div><main id="main-content" tabindex="-1"><!></main></div> <footer class="app-footer svelte-12qhfyh"><p>Double-check your entries before exporting your Phase 2 ballot JSON.</p></footer></div> <!> <!>',1);function ct(p,x){oe(x,!1);const _=()=>Q(Ie,"$page",w),[w,E]=ae();let c=r({payload:[],json:"[]"}),d=r(""),s=null,v=r(""),g=r(!1),f=r("/"),j=r(!0),M=r(!0),h=r(!1),O=r([]),N=r(!1);const A=Ce.subscribe(t=>{t.preferredMode}),J=Le.subscribe(t=>{}),U=pe.subscribe(t=>{o(c,t)}),R=Pe.subscribe(t=>{o(v,t)}),X=Te.subscribe(t=>{o(h,t)}),z="phase2-ballot.json";xe(()=>{if(typeof window>"u")return;const t=window.matchMedia("(prefers-reduced-motion: reduce)"),a=()=>{o(g,t.matches)};return a(),t.addEventListener("change",a),()=>t.removeEventListener("change",a)});function P(t){const a=[];let i=!1,b=!1;for(const[m,q]of t??[]){if(m==="??"||q==="??"){b=!0;continue}(m<0||m>100||q<0||q>100)&&(i=!0)}return b&&a.push("Export still contains â€œ??â€ placeholders. Fill all fields before exporting."),i&&a.push("Utilities and probabilities must stay between 0 and 100."),a}function Y(){const t=P(e(c).payload);if(t.length>0){const q=t[0];S(q),de(q);return}const a=e(c).json,i=new Blob([a],{type:"application/json"}),b=URL.createObjectURL(i),m=document.createElement("a");m.href=b,m.download=z,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(b),S("Download ready â€” send phase2-ballot.json to the Reunion coordinators per Phase 3 instructions.")}function S(t){s&&clearTimeout(s),o(d,t),t&&Ne(t),s=setTimeout(()=>{o(d,""),s=null},2500)}async function V(){const t=P(e(c).payload);if(t.length>0){const b=t[0];S(b),de(b);return}const a=e(c).json;try{if(navigator.clipboard?.writeText){await navigator.clipboard.writeText(a),S("Export JSON copied â€” paste into your submission email or backup doc.");return}}catch(b){console.error("Failed to copy via Clipboard API",b)}const i=document.createElement("textarea");i.value=a,i.setAttribute("readonly",""),i.style.position="absolute",i.style.left="-9999px",document.body.appendChild(i),i.select(),document.execCommand("copy"),document.body.removeChild(i),S("Export JSON copied (fallback) â€” paste into your submission email or backup doc.")}_e(()=>{A(),J(),U(),R(),X(),s&&clearTimeout(s)}),u(()=>_(),()=>{o(f,_().url.pathname)}),u(()=>e(h),()=>{o(j,!e(h))}),u(()=>e(h),()=>{o(M,!e(h))}),u(()=>e(c),()=>{o(O,P(e(c).payload))}),u(()=>e(O),()=>{o(N,e(O).length===0)}),ue(),ve();var F=et();De("12qhfyh",t=>{var a=Ke();Se.title="Reunion 2026 â€” Phase 2 Ballot",D(()=>se(a,"href",Ue)),$(t,a)});var T=ke(F);let W;var B=n(T);{var fe=t=>{var a=Ye(),i=y(n(a),2);{var b=C=>{var L=Qe(),H=n(L),ge=y(H,2);l(L),te("click",H,Y),te("click",ge,V),$(C,L)};G(i,C=>{e(M)&&e(N)&&C(b)})}var m=y(i,2);{var q=C=>{var L=Xe(),H=n(L,!0);l(L),D(()=>I(H,e(d))),$(C,L)};G(m,C=>{e(d)&&C(q)})}var ie=y(m,2),ye=n(ie,!0);l(ie),l(a),D(()=>I(ye,e(v))),$(t,a)};G(B,t=>{t(fe)})}var Z=y(B,2);K(Z,1,"app-body svelte-12qhfyh",null,{},{compact:!1});var ee=n(Z);let le;var he=n(ee);Je(he,x,"default",{}),l(ee),l(Z),qe(2),l(T);var ne=y(T,2);{var be=t=>{var a=Ze(),i=n(a);Ve(i,{}),l(a),$(t,a)};G(ne,t=>{e(j)&&t(be)})}var me=y(ne,2);Ge(me,{}),D(()=>{W=K(T,1,"app-shell svelte-12qhfyh",null,W,{"reduced-motion":e(g)}),le=K(ee,1,"content grid-mode svelte-12qhfyh",null,le,{solo:!1,"intro-open":e(h)})}),$(p,F),re(),E()}export{ct as component,it as universal};
