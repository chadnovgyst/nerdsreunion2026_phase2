import{T as ut,Z as Ce,a3 as me,V as C,av as an,_ as ur,a as et,d as cr,a0 as lr,a1 as fr,a2 as zt,a4 as G,W as ne,ah as sn,aI as dr,U as ve,Y as pr,N as Ze,an as Et,a7 as mr,n as kt,aG as un,G as cn,aR as Le,O as ln,R as hr,aS as Fe,aT as _r,aU as Je,Q as ge,aC as tt,aV as vr,aF as gr,aW as br,b as yr,aX as fn,q as dn,aY as wr,aZ as zr,e as ct,aN as Er,aO as kr,a_ as Ir,a$ as Sr,at as Ar,b0 as $r,b1 as Tr,b2 as Zr,b3 as Or,b4 as Pr,b5 as jr,b6 as Rr,b7 as Dr,b8 as Nr,b9 as pn,ba as K,bb as ce}from"./CtXWJ4Rl.js";import{i as Cr,j as Lr,k as Fr,n as Ur,l as Mr}from"./DscdaUK8.js";import{_ as w}from"./j1nT2hqj.js";function Ec(e,t){return t}function Vr(e,t,n){for(var r=e.items,o=[],i=t.length,a=0;a<i;a++)vr(t[a].e,o,!0);var s=i>0&&o.length===0&&n!==null;if(s){var c=n.parentNode;gr(c),c.append(n),r.clear(),V(e,t[0].prev,t[i-1].next)}br(o,()=>{for(var u=0;u<i;u++){var f=t[u];s||(r.delete(f.k),V(e,f.prev,f.next)),ge(f.e,!s)}})}function kc(e,t,n,r,o,i=null){var a=e,s={flags:t,items:new Map,first:null},c=(t&fn)!==0;if(c){var u=e;a=C?me(an(u)):u.appendChild(ut())}C&&ur();var f=null,l=!1,d=new Map,_=cr(()=>{var y=n();return cn(y)?y:y==null?[]:un(y)}),m,z;function v(){xr(z,m,s,d,a,o,t,r,n),i!==null&&(m.length===0?f?ln(f):f=ve(()=>i(a)):f!==null&&hr(f,()=>{f=null}))}Ce(()=>{z??=yr,m=et(_);var y=m.length;if(l&&y===0)return;l=y===0;let $=!1;if(C){var E=lr(a)===fr;E!==(y===0)&&(a=zt(),me(a),G(!1),$=!0)}if(C){for(var k=null,S,h=0;h<y;h++){if(ne.nodeType===sn&&ne.data===dr){a=ne,$=!0,G(!1);break}var g=m[h],I=r(g,h);S=nt(ne,s,k,null,g,I,h,o,t,n),s.items.set(I,S),k=S}y>0&&me(zt())}if(C)y===0&&i&&(f=ve(()=>i(a)));else if(pr()){var L=new Set,A=Ze;for(h=0;h<y;h+=1){g=m[h],I=r(g,h);var N=s.items.get(I)??d.get(I);N?(t&(Fe|Le))!==0&&mn(N,g,h,t):(S=nt(null,s,null,null,g,I,h,o,t,n,!0),d.set(I,S)),L.add(I)}for(const[D,we]of s.items)L.has(D)||A.skipped_effects.add(we.e);A.oncommit(v)}else v();$&&G(!0),et(_)}),C&&(a=ne)}function xr(e,t,n,r,o,i,a,s,c){var u=(a&wr)!==0,f=(a&(Fe|Le))!==0,l=t.length,d=n.items,_=n.first,m=_,z,v=null,y,$=[],E=[],k,S,h,g;if(u)for(g=0;g<l;g+=1)k=t[g],S=s(k,g),h=d.get(S),h!==void 0&&(h.a?.measure(),(y??=new Set).add(h));for(g=0;g<l;g+=1){if(k=t[g],S=s(k,g),h=d.get(S),h===void 0){var I=r.get(S);if(I!==void 0){r.delete(S),d.set(S,I);var L=v?v.next:m;V(n,v,I),V(n,I,L),Ke(I,L,o),v=I}else{var A=m?m.e.nodes_start:o;v=nt(A,n,v,v===null?n.first:v.next,k,S,g,i,a,c)}d.set(S,v),$=[],E=[],m=v.next;continue}if(f&&mn(h,k,g,a),(h.e.f&Je)!==0&&(ln(h.e),u&&(h.a?.unfix(),(y??=new Set).delete(h))),h!==m){if(z!==void 0&&z.has(h)){if($.length<E.length){var N=E[0],D;v=N.prev;var we=$[0],Be=$[$.length-1];for(D=0;D<$.length;D+=1)Ke($[D],N,o);for(D=0;D<E.length;D+=1)z.delete(E[D]);V(n,we.prev,Be.next),V(n,v,we),V(n,Be,N),m=N,v=Be,g-=1,$=[],E=[]}else z.delete(h),Ke(h,m,o),V(n,h.prev,h.next),V(n,h,v===null?n.first:v.next),V(n,v,h),v=h;continue}for($=[],E=[];m!==null&&m.k!==S;)(m.e.f&Je)===0&&(z??=new Set).add(m),E.push(m),m=m.next;if(m===null)continue;h=m}$.push(h),v=h,m=h.next}if(m!==null||z!==void 0){for(var le=z===void 0?[]:un(z);m!==null;)(m.e.f&Je)===0&&le.push(m),m=m.next;var He=le.length;if(He>0){var ar=(a&fn)!==0&&l===0?o:null;if(u){for(g=0;g<He;g+=1)le[g].a?.measure();for(g=0;g<He;g+=1)le[g].a?.fix()}Vr(n,le,ar)}}u&&dn(()=>{if(y!==void 0)for(h of y)h.a?.apply()}),e.first=n.first&&n.first.e,e.last=v&&v.e;for(var sr of r.values())ge(sr.e);r.clear()}function mn(e,t,n,r){(r&Fe)!==0&&Et(e.v,t),(r&Le)!==0?Et(e.i,n):e.i=n}function nt(e,t,n,r,o,i,a,s,c,u,f){var l=(c&Fe)!==0,d=(c&_r)===0,_=l?d?mr(o,!1,!1):kt(o):o,m=(c&Le)===0?a:kt(a),z={i:m,v:_,k:i,a:null,e:null,prev:n,next:r};try{if(e===null){var v=document.createDocumentFragment();v.append(e=ut())}return z.e=ve(()=>s(e,_,m,u),C),z.e.prev=n&&n.e,z.e.next=r&&r.e,n===null?f||(t.first=z):(n.next=z,n.e.next=z.e),r!==null&&(r.prev=z,r.e.prev=z.e),z}finally{}}function Ke(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,o=t?t.e.nodes_start:n,i=e.e.nodes_start;i!==null&&i!==r;){var a=tt(i);o.before(i),i=a}}function V(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Ic(e,t){let n=null,r=C;var o;if(C){n=ne;for(var i=an(document.head);i!==null&&(i.nodeType!==sn||i.data!==e);)i=tt(i);if(i===null)G(!1);else{var a=tt(i);i.remove(),me(a)}}C||(o=document.head.appendChild(ut()));try{Ce(()=>t(o),zr)}finally{r&&(G(!0),me(n))}}function Wr(e,t){var n=void 0,r;Ce(()=>{n!==(n=t())&&(r&&(ge(r),r=null),n&&(r=ve(()=>{ct(()=>n(e))})))})}function hn(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=hn(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Br(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=hn(e))&&(r&&(r+=" "),r+=t);return r}function Hr(e){return typeof e=="object"?Br(e):e??""}const It=[...` 	
\r\f \v\uFEFF`];function Jr(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var o in n)if(n[o])r=r?r+" "+o:o;else if(r.length)for(var i=o.length,a=0;(a=r.indexOf(o,a))>=0;){var s=a+i;(a===0||It.includes(r[a-1]))&&(s===r.length||It.includes(r[s]))?r=(a===0?"":r.substring(0,a))+r.substring(s+1):a=s}}return r===""?null:r}function St(e,t=!1){var n=t?" !important;":";",r="";for(var o in e){var i=e[o];i!=null&&i!==""&&(r+=" "+o+": "+i+n)}return r}function Ye(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function Kr(e,t){if(t){var n="",r,o;if(Array.isArray(t)?(r=t[0],o=t[1]):r=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,a=0,s=!1,c=[];r&&c.push(...Object.keys(r).map(Ye)),o&&c.push(...Object.keys(o).map(Ye));var u=0,f=-1;const z=e.length;for(var l=0;l<z;l++){var d=e[l];if(s?d==="/"&&e[l-1]==="*"&&(s=!1):i?i===d&&(i=!1):d==="/"&&e[l+1]==="*"?s=!0:d==='"'||d==="'"?i=d:d==="("?a++:d===")"&&a--,!s&&i===!1&&a===0){if(d===":"&&f===-1)f=l;else if(d===";"||l===z-1){if(f!==-1){var _=Ye(e.substring(u,f).trim());if(!c.includes(_)){d!==";"&&l++;var m=e.substring(u,l).trim();n+=" "+m+";"}}u=l+1,f=-1}}}}return r&&(n+=St(r)),o&&(n+=St(o,!0)),n=n.trim(),n===""?null:n}return e==null?null:String(e)}function Yr(e,t,n,r,o,i){var a=e.__className;if(C||a!==n||a===void 0){var s=Jr(n,r,i);(!C||s!==e.getAttribute("class"))&&(s==null?e.removeAttribute("class"):t?e.className=s:e.setAttribute("class",s)),e.__className=n}else if(i&&o!==i)for(var c in i){var u=!!i[c];(o==null||u!==!!o[c])&&e.classList.toggle(c,u)}return i}function Ge(e,t={},n,r){for(var o in n){var i=n[o];t[o]!==i&&(n[o]==null?e.style.removeProperty(o):e.style.setProperty(o,i,r))}}function Gr(e,t,n,r){var o=e.__style;if(C||o!==t){var i=Kr(t,r);(!C||i!==e.getAttribute("style"))&&(i==null?e.removeAttribute("style"):e.style.cssText=i),e.__style=t}else r&&(Array.isArray(r)?(Ge(e,n?.[0],r[0]),Ge(e,n?.[1],r[1],"important")):Ge(e,n,r));return r}function Oe(e,t,n=!1){if(e.multiple){if(t==null)return;if(!cn(t))return Ir();for(var r of e.options)r.selected=t.includes(he(r));return}for(r of e.options){var o=he(r);if(Sr(o,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function _n(e){var t=new MutationObserver(()=>{Oe(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Ar(()=>{t.disconnect()})}function Sc(e,t,n=t){var r=new WeakSet,o=!0;Er(e,"change",i=>{var a=i?"[selected]":":checked",s;if(e.multiple)s=[].map.call(e.querySelectorAll(a),he);else{var c=e.querySelector(a)??e.querySelector("option:not([disabled])");s=c&&he(c)}n(s),Ze!==null&&r.add(Ze)}),ct(()=>{var i=t();if(e===document.activeElement){var a=kr??Ze;if(r.has(a))return}if(Oe(e,i,o),o&&i===void 0){var s=e.querySelector(":checked");s!==null&&(i=he(s),n(i))}e.__value=i,o=!1}),_n(e)}function he(e){return"__value"in e?e.__value:e.value}const fe=Symbol("class"),de=Symbol("style"),vn=Symbol("is custom element"),gn=Symbol("is html");function qr(e){if(C){var t=!1,n=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var r=e.value;Pe(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var o=e.checked;Pe(e,"checked",null),e.checked=o}}};e.__on_r=n,dn(n),Tr()}}function Xr(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function Pe(e,t,n,r){var o=bn(e);C&&(o[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||o[t]!==(o[t]=n)&&(t==="loading"&&(e[Zr]=n),n==null?e.removeAttribute(t):typeof n!="string"&&yn(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Qr(e,t,n,r,o=!1,i=!1){if(C&&o&&e.tagName==="INPUT"){var a=e,s=a.type==="checkbox"?"defaultChecked":"defaultValue";s in n||qr(a)}var c=bn(e),u=c[vn],f=!c[gn];let l=C&&u;l&&G(!1);var d=t||{},_=e.tagName==="OPTION";for(var m in t)m in n||(n[m]=null);n.class?n.class=Hr(n.class):n[fe]&&(n.class=null),n[de]&&(n.style??=null);var z=yn(e);for(const h in n){let g=n[h];if(_&&h==="value"&&g==null){e.value=e.__value="",d[h]=g;continue}if(h==="class"){var v=e.namespaceURI==="http://www.w3.org/1999/xhtml";Yr(e,v,g,r,t?.[fe],n[fe]),d[h]=g,d[fe]=n[fe];continue}if(h==="style"){Gr(e,g,t?.[de],n[de]),d[h]=g,d[de]=n[de];continue}var y=d[h];if(!(g===y&&!(g===void 0&&e.hasAttribute(h)))){d[h]=g;var $=h[0]+h[1];if($!=="$$")if($==="on"){const I={},L="$$"+h;let A=h.slice(2);var E=Mr(A);if(Cr(A)&&(A=A.slice(0,-7),I.capture=!0),!E&&y){if(g!=null)continue;e.removeEventListener(A,d[L],I),d[L]=null}if(g!=null)if(E)e[`__${A}`]=g,Fr([A]);else{let N=function(D){d[h].call(this,D)};d[L]=Lr(A,e,N,I)}else E&&(e[`__${A}`]=void 0)}else if(h==="style")Pe(e,h,g);else if(h==="autofocus")Dr(e,!!g);else if(!u&&(h==="__value"||h==="value"&&g!=null))e.value=e.__value=g;else if(h==="selected"&&_)Xr(e,g);else{var k=h;f||(k=Ur(k));var S=k==="defaultValue"||k==="defaultChecked";if(g==null&&!u&&!S)if(c[h]=null,k==="value"||k==="checked"){let I=e;const L=t===void 0;if(k==="value"){let A=I.defaultValue;I.removeAttribute(k),I.defaultValue=A,I.value=I.__value=L?A:null}else{let A=I.defaultChecked;I.removeAttribute(k),I.defaultChecked=A,I.checked=L?A:!1}}else e.removeAttribute(h);else S||z.includes(k)&&(u||typeof g!="string")?(e[k]=g,k in c&&(c[k]=Nr)):typeof g!="function"&&Pe(e,k,g)}}}return l&&G(!0),d}function Ac(e,t,n=[],r=[],o=[],i,a=!1,s=!1){jr(o,n,r,c=>{var u=void 0,f={},l=e.nodeName==="SELECT",d=!1;if(Ce(()=>{var m=t(...c.map(et)),z=Qr(e,u,m,i,a,s);d&&l&&"value"in m&&Oe(e,m.value);for(let y of Object.getOwnPropertySymbols(f))m[y]||ge(f[y]);for(let y of Object.getOwnPropertySymbols(m)){var v=m[y];y.description===Rr&&(!u||v!==u[y])&&(f[y]&&ge(f[y]),f[y]=ve(()=>Wr(e,()=>v))),z[y]=v}u=z}),l){var _=e;ct(()=>{Oe(_,u.value,!0),_n(_)})}d=!0})}function bn(e){return e.__attributes??={[vn]:e.nodeName.includes("-"),[gn]:e.namespaceURI===$r}}var At=new Map;function yn(e){var t=e.getAttribute("is")||e.nodeName,n=At.get(t);if(n)return n;At.set(t,n=[]);for(var r,o=e,i=Element.prototype;i!==o;){r=Pr(o);for(var a in r)r[a].set&&n.push(a);o=Or(o)}return n}const wn="1.0",zn=["Africa","Asia","Europe","South America"],En=[{id:"athens-greece",name:"Athens",country:"Greece",continent:"Europe",images_path:"optimized-cities/athens-greece",meta_file:"data/meta/athens-greece.json"},{id:"bangkok-thailand",name:"Bangkok",country:"Thailand",continent:"Asia",images_path:"optimized-cities/bangkok-thailand",meta_file:"data/meta/bangkok-thailand.json"},{id:"belgrade-serbia",name:"Belgrade",country:"Serbia",continent:"Europe",images_path:"optimized-cities/belgrade-serbia",meta_file:"data/meta/belgrade-serbia.json"},{id:"buenos-aires-argentina",name:"Buenos Aires",country:"Argentina",continent:"South America",images_path:"optimized-cities/buenos-aires-argentina",meta_file:"data/meta/buenos-aires-argentina.json"},{id:"bucharest-romania",name:"Bucharest",country:"Romania",continent:"Europe",images_path:"optimized-cities/bucharest-romania",meta_file:"data/meta/bucharest-romania.json"},{id:"budapest-hungary",name:"Budapest",country:"Hungary",continent:"Europe",images_path:"optimized-cities/budapest-hungary",meta_file:"data/meta/budapest-hungary.json"},{id:"cairo-egypt",name:"Cairo",country:"Egypt",continent:"Africa",images_path:"optimized-cities/cairo-egypt",meta_file:"data/meta/cairo-egypt.json"},{id:"casablanca-morocco",name:"Casablanca",country:"Morocco",continent:"Africa",images_path:"optimized-cities/casablanca-morocco",meta_file:"data/meta/casablanca-morocco.json"},{id:"chiang-mai-thailand",name:"Chiang Mai",country:"Thailand",continent:"Asia",images_path:"optimized-cities/chiang-mai-thailand",meta_file:"data/meta/chiang-mai-thailand.json"},{id:"dublin-ireland",name:"Dublin",country:"Ireland",continent:"Europe",images_path:"optimized-cities/dublin-ireland",meta_file:"data/meta/dublin-ireland.json"},{id:"dubai-uae",name:"Dubai",country:"United Arab Emirates",continent:"Asia",images_path:"optimized-cities/dubai-uae",meta_file:"data/meta/dubai-uae.json"},{id:"florence-italy",name:"Florence",country:"Italy",continent:"Europe",images_path:"optimized-cities/florence-italy",meta_file:"data/meta/florence-italy.json"},{id:"hanoi-vietnam",name:"Hanoi",country:"Vietnam",continent:"Asia",images_path:"optimized-cities/hanoi-vietnam",meta_file:"data/meta/hanoi-vietnam.json"},{id:"helsinki-finland",name:"Helsinki",country:"Finland",continent:"Europe",images_path:"optimized-cities/helsinki-finland",meta_file:"data/meta/helsinki-finland.json"},{id:"ho-chi-minh-city-vietnam",name:"Ho Chi Minh City",country:"Vietnam",continent:"Asia",images_path:"optimized-cities/ho-chi-minh-city-vietnam",meta_file:"data/meta/ho-chi-minh-city-vietnam.json"},{id:"hong-kong-hong-kong",name:"Hong Kong",country:"Hong Kong",continent:"Asia",images_path:"optimized-cities/hong-kong-hong-kong",meta_file:"data/meta/hong-kong-hong-kong.json"},{id:"lima-peru",name:"Lima",country:"Peru",continent:"South America",images_path:"optimized-cities/lima-peru",meta_file:"data/meta/lima-peru.json"},{id:"lyon-france",name:"Lyon",country:"France",continent:"Europe",images_path:"optimized-cities/lyon-france",meta_file:"data/meta/lyon-france.json"},{id:"madrid-spain",name:"Madrid",country:"Spain",continent:"Europe",images_path:"optimized-cities/madrid-spain",meta_file:"data/meta/madrid-spain.json"},{id:"manila-philippines",name:"Manila",country:"Philippines",continent:"Asia",images_path:"optimized-cities/manila-philippines",meta_file:"data/meta/manila-philippines.json"},{id:"marrakesh-morocco",name:"Marrakesh",country:"Morocco",continent:"Africa",images_path:"optimized-cities/marrakesh-morocco",meta_file:"data/meta/marrakesh-morocco.json"},{id:"mendoza-argentina",name:"Mendoza",country:"Argentina",continent:"South America",images_path:"optimized-cities/mendoza-argentina",meta_file:"data/meta/mendoza-argentina.json"},{id:"munich-germany",name:"Munich",country:"Germany",continent:"Europe",images_path:"optimized-cities/munich-germany",meta_file:"data/meta/munich-germany.json"},{id:"nicosia-cyprus",name:"Nicosia",country:"Cyprus",continent:"Europe",images_path:"optimized-cities/nicosia-cyprus",meta_file:"data/meta/nicosia-cyprus.json"},{id:"prague-czech-republic",name:"Prague",country:"Czech Republic",continent:"Europe",images_path:"optimized-cities/prague-czech-republic",meta_file:"data/meta/prague-czech-republic.json"},{id:"rio-de-janeiro-brazil",name:"Rio de Janeiro",country:"Brazil",continent:"South America",images_path:"optimized-cities/rio-de-janeiro-brazil",meta_file:"data/meta/rio-de-janeiro-brazil.json"},{id:"rotterdam-netherlands",name:"Rotterdam",country:"Netherlands",continent:"Europe",images_path:"optimized-cities/rotterdam-netherlands",meta_file:"data/meta/rotterdam-netherlands.json"},{id:"santiago-chile",name:"Santiago",country:"Chile",continent:"South America",images_path:"optimized-cities/santiago-chile",meta_file:"data/meta/santiago-chile.json"},{id:"sao-paulo-brazil",name:"São Paulo",country:"Brazil",continent:"South America",images_path:"optimized-cities/sao-paulo-brazil",meta_file:"data/meta/sao-paulo-brazil.json"},{id:"seoul-south-korea",name:"Seoul",country:"South Korea",continent:"Asia",images_path:"optimized-cities/seoul-south-korea",meta_file:"data/meta/seoul-south-korea.json"},{id:"seville-spain",name:"Seville",country:"Spain",continent:"Europe",images_path:"optimized-cities/seville-spain",meta_file:"data/meta/seville-spain.json"},{id:"stockholm-sweden",name:"Stockholm",country:"Sweden",continent:"Europe",images_path:"optimized-cities/stockholm-sweden",meta_file:"data/meta/stockholm-sweden.json"},{id:"taipei-taiwan",name:"Taipei",country:"Taiwan",continent:"Asia",images_path:"optimized-cities/taipei-taiwan",meta_file:"data/meta/taipei-taiwan.json"},{id:"tashkent-uzbekistan",name:"Tashkent",country:"Uzbekistan",continent:"Asia",images_path:"optimized-cities/tashkent-uzbekistan",meta_file:"data/meta/tashkent-uzbekistan.json"},{id:"thessaloniki-greece",name:"Thessaloniki",country:"Greece",continent:"Europe",images_path:"optimized-cities/thessaloniki-greece",meta_file:"data/meta/thessaloniki-greece.json"},{id:"tunis-tunisia",name:"Tunis",country:"Tunisia",continent:"Africa",images_path:"optimized-cities/tunis-tunisia",meta_file:"data/meta/tunis-tunisia.json"},{id:"zagreb-croatia",name:"Zagreb",country:"Croatia",continent:"Europe",images_path:"optimized-cities/zagreb-croatia",meta_file:"data/meta/zagreb-croatia.json"}],kn={version:wn,continents:zn,cities:En},eo=Object.freeze(Object.defineProperty({__proto__:null,cities:En,continents:zn,default:kn,version:wn},Symbol.toStringTag,{value:"Module"})),In=kn.continents;new Set(In);function p(e,t,n){function r(s,c){var u;Object.defineProperty(s,"_zod",{value:s._zod??{},enumerable:!1}),(u=s._zod).traits??(u.traits=new Set),s._zod.traits.add(e),t(s,c);for(const f in a.prototype)f in s||Object.defineProperty(s,f,{value:a.prototype[f].bind(s)});s._zod.constr=a,s._zod.def=c}const o=n?.Parent??Object;class i extends o{}Object.defineProperty(i,"name",{value:e});function a(s){var c;const u=n?.Parent?new i:this;r(u,s),(c=u._zod).deferred??(c.deferred=[]);for(const f of u._zod.deferred)f();return u}return Object.defineProperty(a,"init",{value:r}),Object.defineProperty(a,Symbol.hasInstance,{value:s=>n?.Parent&&s instanceof n.Parent?!0:s?._zod?.traits?.has(e)}),Object.defineProperty(a,"name",{value:e}),a}class ae extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Sn extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const An={};function H(e){return An}function to(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,o])=>t.indexOf(+r)===-1).map(([r,o])=>o)}function rt(e,t){return typeof t=="bigint"?t.toString():t}function lt(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function ft(e){return e==null}function dt(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function no(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let o=(r.split(".")[1]||"").length;if(o===0&&/\d?e-\d?/.test(r)){const c=r.match(/\d?e-(\d?)/);c?.[1]&&(o=Number.parseInt(c[1]))}const i=n>o?n:o,a=Number.parseInt(e.toFixed(i).replace(".","")),s=Number.parseInt(t.toFixed(i).replace(".",""));return a%s/10**i}const $t=Symbol("evaluating");function Z(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==$t)return r===void 0&&(r=$t,r=n()),r},set(o){Object.defineProperty(e,t,{value:o})},configurable:!0})}function X(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Q(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function Tt(e){return JSON.stringify(e)}const $n="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function je(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const ro=lt(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function se(e){if(je(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(je(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Tn(e){return se(e)?{...e}:Array.isArray(e)?[...e]:e}const oo=new Set(["string","number","symbol"]);function ue(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Y(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(r._zod.parent=e),r}function b(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function io(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const ao={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function so(e,t){const n=e._zod.def,r=Q(e._zod.def,{get shape(){const o={};for(const i in t){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&(o[i]=n.shape[i])}return X(this,"shape",o),o},checks:[]});return Y(e,r)}function uo(e,t){const n=e._zod.def,r=Q(e._zod.def,{get shape(){const o={...e._zod.def.shape};for(const i in t){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&delete o[i]}return X(this,"shape",o),o},checks:[]});return Y(e,r)}function co(e,t){if(!se(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const o=Q(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t};return X(this,"shape",i),i},checks:[]});return Y(e,o)}function lo(e,t){if(!se(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return X(this,"shape",r),r},checks:e._zod.def.checks};return Y(e,n)}function fo(e,t){const n=Q(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return X(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return Y(e,n)}function po(e,t,n){const r=Q(t._zod.def,{get shape(){const o=t._zod.def.shape,i={...o};if(n)for(const a in n){if(!(a in o))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(i[a]=e?new e({type:"optional",innerType:o[a]}):o[a])}else for(const a in o)i[a]=e?new e({type:"optional",innerType:o[a]}):o[a];return X(this,"shape",i),i},checks:[]});return Y(t,r)}function mo(e,t,n){const r=Q(t._zod.def,{get shape(){const o=t._zod.def.shape,i={...o};if(n)for(const a in n){if(!(a in i))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(i[a]=new e({type:"nonoptional",innerType:o[a]}))}else for(const a in o)i[a]=new e({type:"nonoptional",innerType:o[a]});return X(this,"shape",i),i},checks:[]});return Y(t,r)}function re(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function oe(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function ze(e){return typeof e=="string"?e:e?.message}function J(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const o=ze(e.inst?._zod.def?.error?.(e))??ze(t?.error?.(e))??ze(n.customError?.(e))??ze(n.localeError?.(e))??"Invalid input";r.message=o}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function pt(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function be(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const Zn=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,rt,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},On=p("$ZodError",Zn),Pn=p("$ZodError",Zn,{Parent:Error});function ho(e,t=n=>n.message){const n={},r=[];for(const o of e.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):r.push(t(o));return{formErrors:r,fieldErrors:n}}function _o(e,t=n=>n.message){const n={_errors:[]},r=o=>{for(const i of o.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(a=>r({issues:a}));else if(i.code==="invalid_key")r({issues:i.issues});else if(i.code==="invalid_element")r({issues:i.issues});else if(i.path.length===0)n._errors.push(t(i));else{let a=n,s=0;for(;s<i.path.length;){const c=i.path[s];s===i.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(t(i))):a[c]=a[c]||{_errors:[]},a=a[c],s++}}};return r(e),n}const mt=e=>(t,n,r,o)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},a=t._zod.run({value:n,issues:[]},i);if(a instanceof Promise)throw new ae;if(a.issues.length){const s=new(o?.Err??e)(a.issues.map(c=>J(c,i,H())));throw $n(s,o?.callee),s}return a.value},ht=e=>async(t,n,r,o)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},i);if(a instanceof Promise&&(a=await a),a.issues.length){const s=new(o?.Err??e)(a.issues.map(c=>J(c,i,H())));throw $n(s,o?.callee),s}return a.value},Ue=e=>(t,n,r)=>{const o=r?{...r,async:!1}:{async:!1},i=t._zod.run({value:n,issues:[]},o);if(i instanceof Promise)throw new ae;return i.issues.length?{success:!1,error:new(e??On)(i.issues.map(a=>J(a,o,H())))}:{success:!0,data:i.value}},vo=Ue(Pn),Me=e=>async(t,n,r)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},o);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(a=>J(a,o,H())))}:{success:!0,data:i.value}},go=Me(Pn),bo=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return mt(e)(t,n,o)},yo=e=>(t,n,r)=>mt(e)(t,n,r),wo=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return ht(e)(t,n,o)},zo=e=>async(t,n,r)=>ht(e)(t,n,r),Eo=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Ue(e)(t,n,o)},ko=e=>(t,n,r)=>Ue(e)(t,n,r),Io=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Me(e)(t,n,o)},So=e=>async(t,n,r)=>Me(e)(t,n,r),Ao=/^[cC][^\s-]{8,}$/,$o=/^[0-9a-z]+$/,To=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Zo=/^[0-9a-vA-V]{20}$/,Oo=/^[A-Za-z0-9]{27}$/,Po=/^[a-zA-Z0-9_-]{21}$/,jo=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Ro=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Zt=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Do=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,No="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Co(){return new RegExp(No,"u")}const Lo=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Fo=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Uo=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Mo=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Vo=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,jn=/^[A-Za-z0-9_-]*$/,xo=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,Wo=/^\+(?:[0-9]){6,14}[0-9]$/,Rn="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Bo=new RegExp(`^${Rn}$`);function Dn(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Ho(e){return new RegExp(`^${Dn(e)}$`)}function Jo(e){const t=Dn({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${Rn}T(?:${r})$`)}const Ko=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Yo=/^-?\d+$/,Go=/^-?\d+(?:\.\d+)?/,qo=/^[^A-Z]*$/,Xo=/^[^a-z]*$/,U=p("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Nn={number:"number",bigint:"bigint",object:"date"},Cn=p("$ZodCheckLessThan",(e,t)=>{U.init(e,t);const n=Nn[typeof t.value];e._zod.onattach.push(r=>{const o=r._zod.bag,i=(t.inclusive?o.maximum:o.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<i&&(t.inclusive?o.maximum=t.value:o.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Ln=p("$ZodCheckGreaterThan",(e,t)=>{U.init(e,t);const n=Nn[typeof t.value];e._zod.onattach.push(r=>{const o=r._zod.bag,i=(t.inclusive?o.minimum:o.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>i&&(t.inclusive?o.minimum=t.value:o.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Qo=p("$ZodCheckMultipleOf",(e,t)=>{U.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):no(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),ei=p("$ZodCheckNumberFormat",(e,t)=>{U.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),r=n?"int":"number",[o,i]=ao[t.format];e._zod.onattach.push(a=>{const s=a._zod.bag;s.format=t.format,s.minimum=o,s.maximum=i,n&&(s.pattern=Yo)}),e._zod.check=a=>{const s=a.value;if(n){if(!Number.isInteger(s)){a.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:s,inst:e});return}if(!Number.isSafeInteger(s)){s>0?a.issues.push({input:s,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):a.issues.push({input:s,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort});return}}s<o&&a.issues.push({origin:"number",input:s,code:"too_small",minimum:o,inclusive:!0,inst:e,continue:!t.abort}),s>i&&a.issues.push({origin:"number",input:s,code:"too_big",maximum:i,inst:e})}}),ti=p("$ZodCheckMaxLength",(e,t)=>{var n;U.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!ft(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<o&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const o=r.value;if(o.length<=t.maximum)return;const a=pt(o);r.issues.push({origin:a,code:"too_big",maximum:t.maximum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),ni=p("$ZodCheckMinLength",(e,t)=>{var n;U.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!ft(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>o&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const o=r.value;if(o.length>=t.minimum)return;const a=pt(o);r.issues.push({origin:a,code:"too_small",minimum:t.minimum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),ri=p("$ZodCheckLengthEquals",(e,t)=>{var n;U.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!ft(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag;o.minimum=t.length,o.maximum=t.length,o.length=t.length}),e._zod.check=r=>{const o=r.value,i=o.length;if(i===t.length)return;const a=pt(o),s=i>t.length;r.issues.push({origin:a,...s?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),Ve=p("$ZodCheckStringFormat",(e,t)=>{var n,r;U.init(e,t),e._zod.onattach.push(o=>{const i=o._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=o=>{t.pattern.lastIndex=0,!t.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:t.format,input:o.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),oi=p("$ZodCheckRegex",(e,t)=>{Ve.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),ii=p("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=qo),Ve.init(e,t)}),ai=p("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Xo),Ve.init(e,t)}),si=p("$ZodCheckIncludes",(e,t)=>{U.init(e,t);const n=ue(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(o=>{const i=o._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=o=>{o.value.includes(t.includes,t.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:o.value,inst:e,continue:!t.abort})}}),ui=p("$ZodCheckStartsWith",(e,t)=>{U.init(e,t);const n=new RegExp(`^${ue(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),ci=p("$ZodCheckEndsWith",(e,t)=>{U.init(e,t);const n=new RegExp(`.*${ue(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),li=p("$ZodCheckOverwrite",(e,t)=>{U.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class fi{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(a=>a),o=Math.min(...r.map(a=>a.length-a.trimStart().length)),i=r.map(a=>a.slice(o)).map(a=>" ".repeat(this.indent*2)+a);for(const a of i)this.content.push(a)}compile(){const t=Function,n=this?.args,o=[...(this?.content??[""]).map(i=>`  ${i}`)];return new t(...n,o.join(`
`))}}const di={major:4,minor:1,patch:12},j=p("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=di;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const o of r)for(const i of o._zod.onattach)i(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const o=(a,s,c)=>{let u=re(a),f;for(const l of s){if(l._zod.def.when){if(!l._zod.def.when(a))continue}else if(u)continue;const d=a.issues.length,_=l._zod.check(a);if(_ instanceof Promise&&c?.async===!1)throw new ae;if(f||_ instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await _,a.issues.length!==d&&(u||(u=re(a,d)))});else{if(a.issues.length===d)continue;u||(u=re(a,d))}}return f?f.then(()=>a):a},i=(a,s,c)=>{if(re(a))return a.aborted=!0,a;const u=o(s,r,c);if(u instanceof Promise){if(c.async===!1)throw new ae;return u.then(f=>e._zod.parse(f,c))}return e._zod.parse(u,c)};e._zod.run=(a,s)=>{if(s.skipChecks)return e._zod.parse(a,s);if(s.direction==="backward"){const u=e._zod.parse({value:a.value,issues:[]},{...s,skipChecks:!0});return u instanceof Promise?u.then(f=>i(f,a,s)):i(u,a,s)}const c=e._zod.parse(a,s);if(c instanceof Promise){if(s.async===!1)throw new ae;return c.then(u=>o(u,r,s))}return o(c,r,s)}}e["~standard"]={validate:o=>{try{const i=vo(e,o);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return go(e,o).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},vendor:"zod",version:1}}),_t=p("$ZodString",(e,t)=>{j.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??Ko(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),O=p("$ZodStringFormat",(e,t)=>{Ve.init(e,t),_t.init(e,t)}),pi=p("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=Ro),O.init(e,t)}),mi=p("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Zt(r))}else t.pattern??(t.pattern=Zt());O.init(e,t)}),hi=p("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=Do),O.init(e,t)}),_i=p("$ZodURL",(e,t)=>{O.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),o=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(o.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:xo.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=o.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),vi=p("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=Co()),O.init(e,t)}),gi=p("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=Po),O.init(e,t)}),bi=p("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=Ao),O.init(e,t)}),yi=p("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=$o),O.init(e,t)}),wi=p("$ZodULID",(e,t)=>{t.pattern??(t.pattern=To),O.init(e,t)}),zi=p("$ZodXID",(e,t)=>{t.pattern??(t.pattern=Zo),O.init(e,t)}),Ei=p("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=Oo),O.init(e,t)}),ki=p("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=Jo(t)),O.init(e,t)}),Ii=p("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=Bo),O.init(e,t)}),Si=p("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=Ho(t)),O.init(e,t)}),Ai=p("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=jo),O.init(e,t)}),$i=p("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=Lo),O.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),Ti=p("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=Fo),O.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),Zi=p("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=Uo),O.init(e,t)}),Oi=p("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=Mo),O.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[o,i]=r;if(!i)throw new Error;const a=Number(i);if(`${a}`!==i)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${o}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function Fn(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const Pi=p("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=Vo),O.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{Fn(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function ji(e){if(!jn.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return Fn(n)}const Ri=p("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=jn),O.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{ji(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),Di=p("$ZodE164",(e,t)=>{t.pattern??(t.pattern=Wo),O.init(e,t)});function Ni(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const o=JSON.parse(atob(r));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||t&&(!("alg"in o)||o.alg!==t))}catch{return!1}}const Ci=p("$ZodJWT",(e,t)=>{O.init(e,t),e._zod.check=n=>{Ni(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),Un=p("$ZodNumber",(e,t)=>{j.init(e,t),e._zod.pattern=e._zod.bag.pattern??Go,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const o=n.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return n;const i=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:o,inst:e,...i?{received:i}:{}}),n}}),Li=p("$ZodNumber",(e,t)=>{ei.init(e,t),Un.init(e,t)}),Fi=p("$ZodUnknown",(e,t)=>{j.init(e,t),e._zod.parse=n=>n}),Ui=p("$ZodNever",(e,t)=>{j.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function Ot(e,t,n){e.issues.length&&t.issues.push(...oe(n,e.issues)),t.value[n]=e.value}const Mi=p("$ZodArray",(e,t)=>{j.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!Array.isArray(o))return n.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),n;n.value=Array(o.length);const i=[];for(let a=0;a<o.length;a++){const s=o[a],c=t.element._zod.run({value:s,issues:[]},r);c instanceof Promise?i.push(c.then(u=>Ot(u,n,a))):Ot(c,n,a)}return i.length?Promise.all(i).then(()=>n):n}});function Re(e,t,n,r){e.issues.length&&t.issues.push(...oe(n,e.issues)),e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function Mn(e){const t=Object.keys(e.shape);for(const r of t)if(!e.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=io(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function Vn(e,t,n,r,o,i){const a=[],s=o.keySet,c=o.catchall._zod,u=c.def.type;for(const f of Object.keys(t)){if(s.has(f))continue;if(u==="never"){a.push(f);continue}const l=c.run({value:t[f],issues:[]},r);l instanceof Promise?e.push(l.then(d=>Re(d,n,f,t))):Re(l,n,f,t)}return a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:t,inst:i}),e.length?Promise.all(e).then(()=>n):n}const Vi=p("$ZodObject",(e,t)=>{if(j.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const s=t.shape;Object.defineProperty(t,"shape",{get:()=>{const c={...s};return Object.defineProperty(t,"shape",{value:c}),c}})}const r=lt(()=>Mn(t));Z(e._zod,"propValues",()=>{const s=t.shape,c={};for(const u in s){const f=s[u]._zod;if(f.values){c[u]??(c[u]=new Set);for(const l of f.values)c[u].add(l)}}return c});const o=je,i=t.catchall;let a;e._zod.parse=(s,c)=>{a??(a=r.value);const u=s.value;if(!o(u))return s.issues.push({expected:"object",code:"invalid_type",input:u,inst:e}),s;s.value={};const f=[],l=a.shape;for(const d of a.keys){const m=l[d]._zod.run({value:u[d],issues:[]},c);m instanceof Promise?f.push(m.then(z=>Re(z,s,d,u))):Re(m,s,d,u)}return i?Vn(f,u,s,c,r.value,e):f.length?Promise.all(f).then(()=>s):s}}),xi=p("$ZodObjectJIT",(e,t)=>{Vi.init(e,t);const n=e._zod.parse,r=lt(()=>Mn(t)),o=d=>{const _=new fi(["shape","payload","ctx"]),m=r.value,z=E=>{const k=Tt(E);return`shape[${k}]._zod.run({ value: input[${k}], issues: [] }, ctx)`};_.write("const input = payload.value;");const v=Object.create(null);let y=0;for(const E of m.keys)v[E]=`key_${y++}`;_.write("const newResult = {};");for(const E of m.keys){const k=v[E],S=Tt(E);_.write(`const ${k} = ${z(E)};`),_.write(`
        if (${k}.issues.length) {
          payload.issues = payload.issues.concat(${k}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${S}, ...iss.path] : [${S}]
          })));
        }
        
        
        if (${k}.value === undefined) {
          if (${S} in input) {
            newResult[${S}] = undefined;
          }
        } else {
          newResult[${S}] = ${k}.value;
        }
        
      `)}_.write("payload.value = newResult;"),_.write("return payload;");const $=_.compile();return(E,k)=>$(d,E,k)};let i;const a=je,s=!An.jitless,u=s&&ro.value,f=t.catchall;let l;e._zod.parse=(d,_)=>{l??(l=r.value);const m=d.value;return a(m)?s&&u&&_?.async===!1&&_.jitless!==!0?(i||(i=o(t.shape)),d=i(d,_),f?Vn([],m,d,_,l,e):d):n(d,_):(d.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),d)}});function Pt(e,t,n,r){for(const i of e)if(i.issues.length===0)return t.value=i.value,t;const o=e.filter(i=>!re(i));return o.length===1?(t.value=o[0].value,o[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(i=>i.issues.map(a=>J(a,r,H())))}),t)}const Wi=p("$ZodUnion",(e,t)=>{j.init(e,t),Z(e._zod,"optin",()=>t.options.some(o=>o._zod.optin==="optional")?"optional":void 0),Z(e._zod,"optout",()=>t.options.some(o=>o._zod.optout==="optional")?"optional":void 0),Z(e._zod,"values",()=>{if(t.options.every(o=>o._zod.values))return new Set(t.options.flatMap(o=>Array.from(o._zod.values)))}),Z(e._zod,"pattern",()=>{if(t.options.every(o=>o._zod.pattern)){const o=t.options.map(i=>i._zod.pattern);return new RegExp(`^(${o.map(i=>dt(i.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(o,i)=>{if(n)return r(o,i);let a=!1;const s=[];for(const c of t.options){const u=c._zod.run({value:o.value,issues:[]},i);if(u instanceof Promise)s.push(u),a=!0;else{if(u.issues.length===0)return u;s.push(u)}}return a?Promise.all(s).then(c=>Pt(c,o,e,i)):Pt(s,o,e,i)}}),Bi=p("$ZodIntersection",(e,t)=>{j.init(e,t),e._zod.parse=(n,r)=>{const o=n.value,i=t.left._zod.run({value:o,issues:[]},r),a=t.right._zod.run({value:o,issues:[]},r);return i instanceof Promise||a instanceof Promise?Promise.all([i,a]).then(([c,u])=>jt(n,c,u)):jt(n,i,a)}});function ot(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(se(e)&&se(t)){const n=Object.keys(t),r=Object.keys(e).filter(i=>n.indexOf(i)!==-1),o={...e,...t};for(const i of r){const a=ot(e[i],t[i]);if(!a.valid)return{valid:!1,mergeErrorPath:[i,...a.mergeErrorPath]};o[i]=a.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const o=e[r],i=t[r],a=ot(o,i);if(!a.valid)return{valid:!1,mergeErrorPath:[r,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function jt(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),re(e))return e;const r=ot(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const Hi=p("$ZodRecord",(e,t)=>{j.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!se(o))return n.issues.push({expected:"record",code:"invalid_type",input:o,inst:e}),n;const i=[];if(t.keyType._zod.values){const a=t.keyType._zod.values;n.value={};for(const c of a)if(typeof c=="string"||typeof c=="number"||typeof c=="symbol"){const u=t.valueType._zod.run({value:o[c],issues:[]},r);u instanceof Promise?i.push(u.then(f=>{f.issues.length&&n.issues.push(...oe(c,f.issues)),n.value[c]=f.value})):(u.issues.length&&n.issues.push(...oe(c,u.issues)),n.value[c]=u.value)}let s;for(const c in o)a.has(c)||(s=s??[],s.push(c));s&&s.length>0&&n.issues.push({code:"unrecognized_keys",input:o,inst:e,keys:s})}else{n.value={};for(const a of Reflect.ownKeys(o)){if(a==="__proto__")continue;const s=t.keyType._zod.run({value:a,issues:[]},r);if(s instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(s.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:s.issues.map(u=>J(u,r,H())),input:a,path:[a],inst:e}),n.value[s.value]=s.value;continue}const c=t.valueType._zod.run({value:o[a],issues:[]},r);c instanceof Promise?i.push(c.then(u=>{u.issues.length&&n.issues.push(...oe(a,u.issues)),n.value[s.value]=u.value})):(c.issues.length&&n.issues.push(...oe(a,c.issues)),n.value[s.value]=c.value)}}return i.length?Promise.all(i).then(()=>n):n}}),Ji=p("$ZodEnum",(e,t)=>{j.init(e,t);const n=to(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(o=>oo.has(typeof o)).map(o=>typeof o=="string"?ue(o):o.toString()).join("|")})$`),e._zod.parse=(o,i)=>{const a=o.value;return r.has(a)||o.issues.push({code:"invalid_value",values:n,input:a,inst:e}),o}}),Ki=p("$ZodLiteral",(e,t)=>{if(j.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");e._zod.values=new Set(t.values),e._zod.pattern=new RegExp(`^(${t.values.map(n=>typeof n=="string"?ue(n):n?ue(n.toString()):String(n)).join("|")})$`),e._zod.parse=(n,r)=>{const o=n.value;return e._zod.values.has(o)||n.issues.push({code:"invalid_value",values:t.values,input:o,inst:e}),n}}),Yi=p("$ZodTransform",(e,t)=>{j.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Sn(e.constructor.name);const o=t.transform(n.value,n);if(r.async)return(o instanceof Promise?o:Promise.resolve(o)).then(a=>(n.value=a,n));if(o instanceof Promise)throw new ae;return n.value=o,n}});function Rt(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const Gi=p("$ZodOptional",(e,t)=>{j.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Z(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Z(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${dt(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>Rt(i,n.value)):Rt(o,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),qi=p("$ZodNullable",(e,t)=>{j.init(e,t),Z(e._zod,"optin",()=>t.innerType._zod.optin),Z(e._zod,"optout",()=>t.innerType._zod.optout),Z(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${dt(n.source)}|null)$`):void 0}),Z(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),Xi=p("$ZodDefault",(e,t)=>{j.init(e,t),e._zod.optin="optional",Z(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>Dt(i,t)):Dt(o,t)}});function Dt(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const Qi=p("$ZodPrefault",(e,t)=>{j.init(e,t),e._zod.optin="optional",Z(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),ea=p("$ZodNonOptional",(e,t)=>{j.init(e,t),Z(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>Nt(i,e)):Nt(o,e)}});function Nt(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const ta=p("$ZodCatch",(e,t)=>{j.init(e,t),Z(e._zod,"optin",()=>t.innerType._zod.optin),Z(e._zod,"optout",()=>t.innerType._zod.optout),Z(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(a=>J(a,r,H()))},input:n.value}),n.issues=[]),n)):(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(i=>J(i,r,H()))},input:n.value}),n.issues=[]),n)}}),na=p("$ZodPipe",(e,t)=>{j.init(e,t),Z(e._zod,"values",()=>t.in._zod.values),Z(e._zod,"optin",()=>t.in._zod.optin),Z(e._zod,"optout",()=>t.out._zod.optout),Z(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const i=t.out._zod.run(n,r);return i instanceof Promise?i.then(a=>Ee(a,t.in,r)):Ee(i,t.in,r)}const o=t.in._zod.run(n,r);return o instanceof Promise?o.then(i=>Ee(i,t.out,r)):Ee(o,t.out,r)}});function Ee(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const ra=p("$ZodReadonly",(e,t)=>{j.init(e,t),Z(e._zod,"propValues",()=>t.innerType._zod.propValues),Z(e._zod,"values",()=>t.innerType._zod.values),Z(e._zod,"optin",()=>t.innerType._zod.optin),Z(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(Ct):Ct(o)}});function Ct(e){return e.value=Object.freeze(e.value),e}const oa=p("$ZodCustom",(e,t)=>{U.init(e,t),j.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,o=t.fn(r);if(o instanceof Promise)return o.then(i=>Lt(i,n,r,e));Lt(o,n,r,e)}});function Lt(e,t,n,r){if(!e){const o={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(o.params=r._zod.def.params),t.issues.push(be(o))}}class ia{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const o={...r,...this._map.get(t)};return Object.keys(o).length?o:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function aa(){return new ia}const ke=aa();function sa(e,t){return new e({type:"string",...b(t)})}function ua(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...b(t)})}function Ft(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...b(t)})}function ca(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...b(t)})}function la(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...b(t)})}function fa(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...b(t)})}function da(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...b(t)})}function pa(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...b(t)})}function ma(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...b(t)})}function ha(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...b(t)})}function _a(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...b(t)})}function va(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...b(t)})}function ga(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...b(t)})}function ba(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...b(t)})}function ya(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...b(t)})}function wa(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...b(t)})}function za(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...b(t)})}function Ea(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...b(t)})}function ka(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...b(t)})}function Ia(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...b(t)})}function Sa(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...b(t)})}function Aa(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...b(t)})}function $a(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...b(t)})}function Ta(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...b(t)})}function Za(e,t){return new e({type:"string",format:"date",check:"string_format",...b(t)})}function Oa(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...b(t)})}function Pa(e,t){return new e({type:"string",format:"duration",check:"string_format",...b(t)})}function ja(e,t){return new e({type:"number",checks:[],...b(t)})}function Ra(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...b(t)})}function Da(e){return new e({type:"unknown"})}function Na(e,t){return new e({type:"never",...b(t)})}function Ut(e,t){return new Cn({check:"less_than",...b(t),value:e,inclusive:!1})}function qe(e,t){return new Cn({check:"less_than",...b(t),value:e,inclusive:!0})}function Mt(e,t){return new Ln({check:"greater_than",...b(t),value:e,inclusive:!1})}function Xe(e,t){return new Ln({check:"greater_than",...b(t),value:e,inclusive:!0})}function Vt(e,t){return new Qo({check:"multiple_of",...b(t),value:e})}function xn(e,t){return new ti({check:"max_length",...b(t),maximum:e})}function De(e,t){return new ni({check:"min_length",...b(t),minimum:e})}function Wn(e,t){return new ri({check:"length_equals",...b(t),length:e})}function Ca(e,t){return new oi({check:"string_format",format:"regex",...b(t),pattern:e})}function La(e){return new ii({check:"string_format",format:"lowercase",...b(e)})}function Fa(e){return new ai({check:"string_format",format:"uppercase",...b(e)})}function Ua(e,t){return new si({check:"string_format",format:"includes",...b(t),includes:e})}function Ma(e,t){return new ui({check:"string_format",format:"starts_with",...b(t),prefix:e})}function Va(e,t){return new ci({check:"string_format",format:"ends_with",...b(t),suffix:e})}function ye(e){return new li({check:"overwrite",tx:e})}function xa(e){return ye(t=>t.normalize(e))}function Wa(){return ye(e=>e.trim())}function Ba(){return ye(e=>e.toLowerCase())}function Ha(){return ye(e=>e.toUpperCase())}function Ja(e,t,n){return new e({type:"array",element:t,...b(n)})}function Ka(e,t,n){return new e({type:"custom",check:"custom",fn:t,...b(n)})}function Ya(e){const t=Ga(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(be(r,n.value,t._zod.def));else{const o=r;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=t),o.continue??(o.continue=!t._zod.def.abort),n.issues.push(be(o))}},e(n.value,n)));return t}function Ga(e,t){const n=new U({check:"custom",...b(t)});return n._zod.check=e,n}const qa=p("ZodISODateTime",(e,t)=>{ki.init(e,t),P.init(e,t)});function Xa(e){return Ta(qa,e)}const Qa=p("ZodISODate",(e,t)=>{Ii.init(e,t),P.init(e,t)});function es(e){return Za(Qa,e)}const ts=p("ZodISOTime",(e,t)=>{Si.init(e,t),P.init(e,t)});function ns(e){return Oa(ts,e)}const rs=p("ZodISODuration",(e,t)=>{Ai.init(e,t),P.init(e,t)});function os(e){return Pa(rs,e)}const is=(e,t)=>{On.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>_o(e,n)},flatten:{value:n=>ho(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,rt,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,rt,2)}},isEmpty:{get(){return e.issues.length===0}}})},M=p("ZodError",is,{Parent:Error}),as=mt(M),ss=ht(M),us=Ue(M),cs=Me(M),ls=bo(M),fs=yo(M),ds=wo(M),ps=zo(M),ms=Eo(M),hs=ko(M),_s=Io(M),vs=So(M),R=p("ZodType",(e,t)=>(j.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(Q(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),e.clone=(n,r)=>Y(e,n,r),e.brand=()=>e,e.register=((n,r)=>(n.add(e,r),e)),e.parse=(n,r)=>as(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>us(e,n,r),e.parseAsync=async(n,r)=>ss(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>cs(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>ls(e,n,r),e.decode=(n,r)=>fs(e,n,r),e.encodeAsync=async(n,r)=>ds(e,n,r),e.decodeAsync=async(n,r)=>ps(e,n,r),e.safeEncode=(n,r)=>ms(e,n,r),e.safeDecode=(n,r)=>hs(e,n,r),e.safeEncodeAsync=async(n,r)=>_s(e,n,r),e.safeDecodeAsync=async(n,r)=>vs(e,n,r),e.refine=(n,r)=>e.check(lu(n,r)),e.superRefine=n=>e.check(fu(n)),e.overwrite=n=>e.check(ye(n)),e.optional=()=>Ht(e),e.nullable=()=>Jt(e),e.nullish=()=>Ht(Jt(e)),e.nonoptional=n=>ru(e,n),e.array=()=>W(e),e.or=n=>Jn([e,n]),e.and=n=>Bs(e,n),e.transform=n=>Kt(e,qs(n)),e.default=n=>eu(e,n),e.prefault=n=>nu(e,n),e.catch=n=>iu(e,n),e.pipe=n=>Kt(e,n),e.readonly=()=>uu(e),e.describe=n=>{const r=e.clone();return ke.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){return ke.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return ke.get(e);const r=e.clone();return ke.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),Bn=p("_ZodString",(e,t)=>{_t.init(e,t),R.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(Ca(...r)),e.includes=(...r)=>e.check(Ua(...r)),e.startsWith=(...r)=>e.check(Ma(...r)),e.endsWith=(...r)=>e.check(Va(...r)),e.min=(...r)=>e.check(De(...r)),e.max=(...r)=>e.check(xn(...r)),e.length=(...r)=>e.check(Wn(...r)),e.nonempty=(...r)=>e.check(De(1,...r)),e.lowercase=r=>e.check(La(r)),e.uppercase=r=>e.check(Fa(r)),e.trim=()=>e.check(Wa()),e.normalize=(...r)=>e.check(xa(...r)),e.toLowerCase=()=>e.check(Ba()),e.toUpperCase=()=>e.check(Ha())}),gs=p("ZodString",(e,t)=>{_t.init(e,t),Bn.init(e,t),e.email=n=>e.check(ua(bs,n)),e.url=n=>e.check(pa(ys,n)),e.jwt=n=>e.check($a(Ds,n)),e.emoji=n=>e.check(ma(ws,n)),e.guid=n=>e.check(Ft(xt,n)),e.uuid=n=>e.check(ca(Ie,n)),e.uuidv4=n=>e.check(la(Ie,n)),e.uuidv6=n=>e.check(fa(Ie,n)),e.uuidv7=n=>e.check(da(Ie,n)),e.nanoid=n=>e.check(ha(zs,n)),e.guid=n=>e.check(Ft(xt,n)),e.cuid=n=>e.check(_a(Es,n)),e.cuid2=n=>e.check(va(ks,n)),e.ulid=n=>e.check(ga(Is,n)),e.base64=n=>e.check(Ia(Ps,n)),e.base64url=n=>e.check(Sa(js,n)),e.xid=n=>e.check(ba(Ss,n)),e.ksuid=n=>e.check(ya(As,n)),e.ipv4=n=>e.check(wa($s,n)),e.ipv6=n=>e.check(za(Ts,n)),e.cidrv4=n=>e.check(Ea(Zs,n)),e.cidrv6=n=>e.check(ka(Os,n)),e.e164=n=>e.check(Aa(Rs,n)),e.datetime=n=>e.check(Xa(n)),e.date=n=>e.check(es(n)),e.time=n=>e.check(ns(n)),e.duration=n=>e.check(os(n))});function T(e){return sa(gs,e)}const P=p("ZodStringFormat",(e,t)=>{O.init(e,t),Bn.init(e,t)}),bs=p("ZodEmail",(e,t)=>{hi.init(e,t),P.init(e,t)}),xt=p("ZodGUID",(e,t)=>{pi.init(e,t),P.init(e,t)}),Ie=p("ZodUUID",(e,t)=>{mi.init(e,t),P.init(e,t)}),ys=p("ZodURL",(e,t)=>{_i.init(e,t),P.init(e,t)}),ws=p("ZodEmoji",(e,t)=>{vi.init(e,t),P.init(e,t)}),zs=p("ZodNanoID",(e,t)=>{gi.init(e,t),P.init(e,t)}),Es=p("ZodCUID",(e,t)=>{bi.init(e,t),P.init(e,t)}),ks=p("ZodCUID2",(e,t)=>{yi.init(e,t),P.init(e,t)}),Is=p("ZodULID",(e,t)=>{wi.init(e,t),P.init(e,t)}),Ss=p("ZodXID",(e,t)=>{zi.init(e,t),P.init(e,t)}),As=p("ZodKSUID",(e,t)=>{Ei.init(e,t),P.init(e,t)}),$s=p("ZodIPv4",(e,t)=>{$i.init(e,t),P.init(e,t)}),Ts=p("ZodIPv6",(e,t)=>{Ti.init(e,t),P.init(e,t)}),Zs=p("ZodCIDRv4",(e,t)=>{Zi.init(e,t),P.init(e,t)}),Os=p("ZodCIDRv6",(e,t)=>{Oi.init(e,t),P.init(e,t)}),Ps=p("ZodBase64",(e,t)=>{Pi.init(e,t),P.init(e,t)}),js=p("ZodBase64URL",(e,t)=>{Ri.init(e,t),P.init(e,t)}),Rs=p("ZodE164",(e,t)=>{Di.init(e,t),P.init(e,t)}),Ds=p("ZodJWT",(e,t)=>{Ci.init(e,t),P.init(e,t)}),Hn=p("ZodNumber",(e,t)=>{Un.init(e,t),R.init(e,t),e.gt=(r,o)=>e.check(Mt(r,o)),e.gte=(r,o)=>e.check(Xe(r,o)),e.min=(r,o)=>e.check(Xe(r,o)),e.lt=(r,o)=>e.check(Ut(r,o)),e.lte=(r,o)=>e.check(qe(r,o)),e.max=(r,o)=>e.check(qe(r,o)),e.int=r=>e.check(Wt(r)),e.safe=r=>e.check(Wt(r)),e.positive=r=>e.check(Mt(0,r)),e.nonnegative=r=>e.check(Xe(0,r)),e.negative=r=>e.check(Ut(0,r)),e.nonpositive=r=>e.check(qe(0,r)),e.multipleOf=(r,o)=>e.check(Vt(r,o)),e.step=(r,o)=>e.check(Vt(r,o)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function Ns(e){return ja(Hn,e)}const Cs=p("ZodNumberFormat",(e,t)=>{Li.init(e,t),Hn.init(e,t)});function Wt(e){return Ra(Cs,e)}const Ls=p("ZodUnknown",(e,t)=>{Fi.init(e,t),R.init(e,t)});function Bt(){return Da(Ls)}const Fs=p("ZodNever",(e,t)=>{Ui.init(e,t),R.init(e,t)});function Us(e){return Na(Fs,e)}const Ms=p("ZodArray",(e,t)=>{Mi.init(e,t),R.init(e,t),e.element=t.element,e.min=(n,r)=>e.check(De(n,r)),e.nonempty=n=>e.check(De(1,n)),e.max=(n,r)=>e.check(xn(n,r)),e.length=(n,r)=>e.check(Wn(n,r)),e.unwrap=()=>e.element});function W(e,t){return Ja(Ms,e,t)}const Vs=p("ZodObject",(e,t)=>{xi.init(e,t),R.init(e,t),Z(e,"shape",()=>t.shape),e.keyof=()=>Js(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Bt()}),e.loose=()=>e.clone({...e._zod.def,catchall:Bt()}),e.strict=()=>e.clone({...e._zod.def,catchall:Us()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>co(e,n),e.safeExtend=n=>lo(e,n),e.merge=n=>fo(e,n),e.pick=n=>so(e,n),e.omit=n=>uo(e,n),e.partial=(...n)=>po(Yn,e,n[0]),e.required=(...n)=>mo(Gn,e,n[0])});function ee(e,t){const n={type:"object",shape:e??{},...b(t)};return new Vs(n)}const xs=p("ZodUnion",(e,t)=>{Wi.init(e,t),R.init(e,t),e.options=t.options});function Jn(e,t){return new xs({type:"union",options:e,...b(t)})}const Ws=p("ZodIntersection",(e,t)=>{Bi.init(e,t),R.init(e,t)});function Bs(e,t){return new Ws({type:"intersection",left:e,right:t})}const Hs=p("ZodRecord",(e,t)=>{Hi.init(e,t),R.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function Kn(e,t,n){return new Hs({type:"record",keyType:e,valueType:t,...b(n)})}const it=p("ZodEnum",(e,t)=>{Ji.init(e,t),R.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,o)=>{const i={};for(const a of r)if(n.has(a))i[a]=t.entries[a];else throw new Error(`Key ${a} not found in enum`);return new it({...t,checks:[],...b(o),entries:i})},e.exclude=(r,o)=>{const i={...t.entries};for(const a of r)if(n.has(a))delete i[a];else throw new Error(`Key ${a} not found in enum`);return new it({...t,checks:[],...b(o),entries:i})}});function Js(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new it({type:"enum",entries:n,...b(t)})}const Ks=p("ZodLiteral",(e,t)=>{Ki.init(e,t),R.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function Ys(e,t){return new Ks({type:"literal",values:Array.isArray(e)?e:[e],...b(t)})}const Gs=p("ZodTransform",(e,t)=>{Yi.init(e,t),R.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Sn(e.constructor.name);n.addIssue=i=>{if(typeof i=="string")n.issues.push(be(i,n.value,t));else{const a=i;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=e),n.issues.push(be(a))}};const o=t.transform(n.value,n);return o instanceof Promise?o.then(i=>(n.value=i,n)):(n.value=o,n)}});function qs(e){return new Gs({type:"transform",transform:e})}const Yn=p("ZodOptional",(e,t)=>{Gi.init(e,t),R.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Ht(e){return new Yn({type:"optional",innerType:e})}const Xs=p("ZodNullable",(e,t)=>{qi.init(e,t),R.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Jt(e){return new Xs({type:"nullable",innerType:e})}const Qs=p("ZodDefault",(e,t)=>{Xi.init(e,t),R.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function eu(e,t){return new Qs({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Tn(t)}})}const tu=p("ZodPrefault",(e,t)=>{Qi.init(e,t),R.init(e,t),e.unwrap=()=>e._zod.def.innerType});function nu(e,t){return new tu({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Tn(t)}})}const Gn=p("ZodNonOptional",(e,t)=>{ea.init(e,t),R.init(e,t),e.unwrap=()=>e._zod.def.innerType});function ru(e,t){return new Gn({type:"nonoptional",innerType:e,...b(t)})}const ou=p("ZodCatch",(e,t)=>{ta.init(e,t),R.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function iu(e,t){return new ou({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const au=p("ZodPipe",(e,t)=>{na.init(e,t),R.init(e,t),e.in=t.in,e.out=t.out});function Kt(e,t){return new au({type:"pipe",in:e,out:t})}const su=p("ZodReadonly",(e,t)=>{ra.init(e,t),R.init(e,t),e.unwrap=()=>e._zod.def.innerType});function uu(e){return new su({type:"readonly",innerType:e})}const cu=p("ZodCustom",(e,t)=>{oa.init(e,t),R.init(e,t)});function lu(e,t={}){return Ka(cu,e,t)}function fu(e){return Ya(e)}const du=ee({id:T(),name:T(),country:T(),continent:T(),images_path:T(),meta_file:T()}),pu=ee({version:T(),continents:W(T()),cities:W(du)}),mu=Jn([Ys("auto-100"),Kn(T(),Ns().min(0).max(100))]),hu=ee({version:T(),notes:T().optional(),matrix:Kn(T(),mu)}),_u=ee({image:T(),caption:T().optional(),credit:T().optional()}),vu=ee({name:T(),vibe:T(),must_do:T()}),gu=ee({overall:T(),notes:W(T()).optional()}),bu=ee({id:T(),summary:T(),highlights:W(T()),arrival_notes:T().optional(),seasonal_notes:T().optional(),images:W(_u).min(1),food_and_drink:W(T()).optional(),neighborhoods:W(vu).optional(),safety:gu.optional()}),yu=()=>w(()=>Promise.resolve().then(()=>eo),void 0,import.meta.url),vt=async()=>{const e=await yu();return pu.parse(e.default)};let Se=null;async function $c(){return Se||(Se=(await vt()).cities.map(t=>t.id),Se)}const wu=Object.assign({"./static/meta/athens-greece.json":()=>w(()=>import("./DN3J-sCw.js"),[],import.meta.url).then(e=>e.default),"./static/meta/bangkok-thailand.json":()=>w(()=>import("./BKbm5EfA.js"),[],import.meta.url).then(e=>e.default),"./static/meta/belgrade-serbia.json":()=>w(()=>import("./BvbcL8L1.js"),[],import.meta.url).then(e=>e.default),"./static/meta/bucharest-romania.json":()=>w(()=>import("./CpqWQj0X.js"),[],import.meta.url).then(e=>e.default),"./static/meta/budapest-hungary.json":()=>w(()=>import("./CMBHzUVU.js"),[],import.meta.url).then(e=>e.default),"./static/meta/buenos-aires-argentina.json":()=>w(()=>import("./BNFRKsyx.js"),[],import.meta.url).then(e=>e.default),"./static/meta/cairo-egypt.json":()=>w(()=>import("./CvpCKVSJ.js"),[],import.meta.url).then(e=>e.default),"./static/meta/cartagena-colombia.json":()=>w(()=>import("./DKqRZLee.js"),[],import.meta.url).then(e=>e.default),"./static/meta/casablanca-morocco.json":()=>w(()=>import("./e1t1TJwC.js"),[],import.meta.url).then(e=>e.default),"./static/meta/chiang-mai-thailand.json":()=>w(()=>import("./pOAIlSuq.js"),[],import.meta.url).then(e=>e.default),"./static/meta/delhi-india.json":()=>w(()=>import("./CDr_-IW6.js"),[],import.meta.url).then(e=>e.default),"./static/meta/doha-qatar.json":()=>w(()=>import("./DkwgWrlg.js"),[],import.meta.url).then(e=>e.default),"./static/meta/dubai-uae.json":()=>w(()=>import("./BdPnv_Ww.js"),[],import.meta.url).then(e=>e.default),"./static/meta/dublin-ireland.json":()=>w(()=>import("./Wp1az9L3.js"),[],import.meta.url).then(e=>e.default),"./static/meta/florence-italy.json":()=>w(()=>import("./BozMgj6L.js"),[],import.meta.url).then(e=>e.default),"./static/meta/guadalajara-mexico.json":()=>w(()=>import("./ChEK7k_d.js"),[],import.meta.url).then(e=>e.default),"./static/meta/hanoi-vietnam.json":()=>w(()=>import("./BT5hMKdo.js"),[],import.meta.url).then(e=>e.default),"./static/meta/helsinki-finland.json":()=>w(()=>import("./DZg2n5Gj.js"),[],import.meta.url).then(e=>e.default),"./static/meta/ho-chi-minh-city-vietnam.json":()=>w(()=>import("./B--_m8y4.js"),[],import.meta.url).then(e=>e.default),"./static/meta/hong-kong-hong-kong.json":()=>w(()=>import("./BPfJ8Mnp.js"),[],import.meta.url).then(e=>e.default),"./static/meta/jakarta-indonesia.json":()=>w(()=>import("./BbyHsVxX.js"),[],import.meta.url).then(e=>e.default),"./static/meta/krakow-poland.json":()=>w(()=>import("./D1dfjzr5.js"),[],import.meta.url).then(e=>e.default),"./static/meta/lima-peru.json":()=>w(()=>import("./sTVjfoeb.js"),[],import.meta.url).then(e=>e.default),"./static/meta/ljubljana-slovenia.json":()=>w(()=>import("./BJv4UY2l.js"),[],import.meta.url).then(e=>e.default),"./static/meta/lyon-france.json":()=>w(()=>import("./DqmJETbX.js"),[],import.meta.url).then(e=>e.default),"./static/meta/madrid-spain.json":()=>w(()=>import("./Dbr1vHU4.js"),[],import.meta.url).then(e=>e.default),"./static/meta/manila-philippines.json":()=>w(()=>import("./DIrtYIXF.js"),[],import.meta.url).then(e=>e.default),"./static/meta/marrakesh-morocco.json":()=>w(()=>import("./ZuxV2OeQ.js"),[],import.meta.url).then(e=>e.default),"./static/meta/mendoza-argentina.json":()=>w(()=>import("./BBQehyBW.js"),[],import.meta.url).then(e=>e.default),"./static/meta/mumbai-india.json":()=>w(()=>import("./CTUHu1i9.js"),[],import.meta.url).then(e=>e.default),"./static/meta/munich-germany.json":()=>w(()=>import("./DgcN0BtG.js"),[],import.meta.url).then(e=>e.default),"./static/meta/nairobi-kenya.json":()=>w(()=>import("./D89J0wRi.js"),[],import.meta.url).then(e=>e.default),"./static/meta/nicosia-cyprus.json":()=>w(()=>import("./D3GOXJB7.js"),[],import.meta.url).then(e=>e.default),"./static/meta/prague-czech-republic.json":()=>w(()=>import("./KMlGcXzU.js"),[],import.meta.url).then(e=>e.default),"./static/meta/quito-ecuador.json":()=>w(()=>import("./hyOVM0Ug.js"),[],import.meta.url).then(e=>e.default),"./static/meta/rio-de-janeiro-brazil.json":()=>w(()=>import("./D_zlzWZC.js"),[],import.meta.url).then(e=>e.default),"./static/meta/rotterdam-netherlands.json":()=>w(()=>import("./DBEQdhVc.js"),[],import.meta.url).then(e=>e.default),"./static/meta/santiago-chile.json":()=>w(()=>import("./Kieb5-lA.js"),[],import.meta.url).then(e=>e.default),"./static/meta/sao-paulo-brazil.json":()=>w(()=>import("./nEnXKinN.js"),[],import.meta.url).then(e=>e.default),"./static/meta/seoul-south-korea.json":()=>w(()=>import("./t4Dmsr4x.js"),[],import.meta.url).then(e=>e.default),"./static/meta/seville-spain.json":()=>w(()=>import("./CXnItg8R.js"),[],import.meta.url).then(e=>e.default),"./static/meta/stockholm-sweden.json":()=>w(()=>import("./DWD3NyID.js"),[],import.meta.url).then(e=>e.default),"./static/meta/taipei-taiwan.json":()=>w(()=>import("./BGVZ31-y.js"),[],import.meta.url).then(e=>e.default),"./static/meta/tashkent-uzbekistan.json":()=>w(()=>import("./DK9tbYvT.js"),[],import.meta.url).then(e=>e.default),"./static/meta/template.json":()=>w(()=>import("./9Ve3I6w0.js"),[],import.meta.url).then(e=>e.default),"./static/meta/thessaloniki-greece.json":()=>w(()=>import("./DkuNIGT0.js"),[],import.meta.url).then(e=>e.default),"./static/meta/tunis-tunisia.json":()=>w(()=>import("./CuS-bfel.js"),[],import.meta.url).then(e=>e.default),"./static/meta/vienna-austria.json":()=>w(()=>import("./D7_Q8Xbe.js"),[],import.meta.url).then(e=>e.default),"./static/meta/warsaw-poland.json":()=>w(()=>import("./BVE7Js9b.js"),[],import.meta.url).then(e=>e.default),"./static/meta/zagreb-croatia.json":()=>w(()=>import("./B-q0s-Uw.js"),[],import.meta.url).then(e=>e.default)}),Qe=new Map,qn=new Map,zu=/\/static\/meta\/([^/]+)\.json$/;for(const[e,t]of Object.entries(wu)){const n=zu.exec(e);n&&qn.set(n[1],t)}function Tc(e){const t=typeof e=="string"?e:e.id;if(!Qe.has(t)){const n=qn.get(t);if(!n)return Promise.reject(new Error(`No meta JSON found for city ${t}`));Qe.set(t,n().then(r=>bu.parse(r)))}return Qe.get(t)}const Eu=()=>w(()=>import("./Bofxlg5c.js"),[],import.meta.url),ku=Au(Eu),Iu=async()=>{const e=await ku();return hu.parse(e)},Ae=new Map;async function Su(e){const t=e.toLowerCase();if(Ae.has(t))return Ae.get(t);const n=await Iu(),r=n.matrix[t]??n.matrix.anywhere;if(!r)throw new Error(`No probability defaults found for ${e}`);if(r==="auto-100"){const o=Object.fromEntries(In.map(i=>[i,100]));return Ae.set(t,o),o}return Ae.set(t,r),r}function Au(e){return async()=>(await e()).default}function $u(){return pn(null,e=>{let t=!1;return vt().then(n=>{t||e(n)}).catch(n=>{console.error("Failed to load cities document",n)}),()=>{t=!0}})}const Zc=$u(),te=pn([],e=>{let t=!1;return vt().then(n=>{t||e(n.cities)}).catch(n=>{console.error("Failed to load cities",n)}),()=>{t=!0}}),Tu="reunion-phase2",Zu=5,Ou=2e3;function xe(e,t,n){const{version:r,storageKeyPrefix:o=Tu,serialize:i=JSON.stringify,deserialize:a=y=>JSON.parse(y),migrate:s,maxBackups:c=Zu,saveDebounceMs:u=Ou,flushOnVisibilityChange:f=!0}=n,l=`${o}:${e}`,d=`${l}:version`,_=`${l}:backups`;function m(y,$){try{const E={key:`${l}:backup:${Date.now()}`,version:$??"unknown",savedAt:new Date().toISOString()},k=localStorage.getItem(_);let S=[];if(k)try{const I=JSON.parse(k);Array.isArray(I)&&(S=I.filter(L=>typeof L?.key=="string"))}catch(I){console.warn("Failed to parse persisted backup index",I)}localStorage.setItem(E.key,y),localStorage.setItem(`${E.key}:version`,E.version),S.unshift(E);const h=S.slice(0,c),g=S.slice(c);for(const I of g)localStorage.removeItem(I.key),localStorage.removeItem(`${I.key}:version`);localStorage.setItem(_,JSON.stringify(h))}catch(E){console.error("Failed to archive previous persisted value",E)}}const v=K(t,y=>{let $=null,E=null;const k=A=>{try{localStorage.setItem(l,i(A)),localStorage.setItem(d,r)}catch(N){console.error("Failed to persist store value",N)}},S=()=>{E&&(clearTimeout(E),E=null),$!==null&&(k($),$=null)},h=(A,N=!1)=>{if(N||u<=0){$=A,S();return}$=A,E&&clearTimeout(E),E=setTimeout(()=>{E=null,$!==null&&(k($),$=null)},u)};try{const A=localStorage.getItem(l),N=localStorage.getItem(d);if(A!==null)if(N===r){const D=a(A);y(D),h(D,!0)}else try{if(s){const D=s(a(A),N);y(D),h(D,!0)}else console.warn(`Persisted store ${l} version mismatch (${N??"unknown"} → ${r}); resetting to defaults.`),m(A,N),y(t),h(t,!0)}catch(D){console.error(`Failed to migrate store ${l}; resetting to defaults.`,D),m(A,N),y(t),h(t,!0)}else h(t,!0)}catch(A){console.error("Failed to bootstrap persisted store",A),y(t)}const g=()=>{document.visibilityState==="hidden"&&S()},I=()=>{S()};f&&document.addEventListener("visibilitychange",g),window.addEventListener("beforeunload",I);const L=v.subscribe(A=>{h(A)});return()=>{L(),f&&document.removeEventListener("visibilitychange",g),window.removeEventListener("beforeunload",I),S()}});return{subscribe:v.subscribe,set:y=>{localStorage.setItem(l,i(y)),localStorage.setItem(d,r),v.set(y)},update:y=>{v.update($=>{const E=y($);return localStorage.setItem(l,i(E)),localStorage.setItem(d,r),E})},reset:()=>{localStorage.removeItem(l),localStorage.removeItem(d),v.set(t)}}}function gt(e,t,n){const r=new Map;return t.forEach(o=>r.set(o.from,o)),(o,i)=>{if(!i)return n();let a=i,s=o;const c=new Set;for(;a!==e;){const u=r.get(a);if(!u||c.has(a))return n();s=u.migrate(s),c.add(a),a=u.to}return s}}const q="2",Pu="reunion-phase2",bt=`${Pu}:vote-session:previous`,Xn=`${bt}:version`,_e={mode:null,entries:{},lastUpdated:null,version:q,dismissedWarnings:{}},Qn=gt(q,[{from:"1",to:"2",migrate:e=>{const t=e??{};return{..._e,...t,dismissedWarnings:t.dismissedWarnings??{}}}}],()=>_e);function x(){return new Date().toISOString()}function ju(e){if(!(typeof localStorage>"u"))try{localStorage.setItem(bt,JSON.stringify(e)),localStorage.setItem(Xn,q)}catch(t){console.error("Failed to archive previous vote session",t)}}function Yt(){if(typeof localStorage>"u")return null;try{const e=localStorage.getItem(bt);if(!e)return null;const t=localStorage.getItem(Xn),n=JSON.parse(e);return!t||t===q?n:Qn(n,t)}catch(e){return console.error("Failed to load previous vote session",e),null}}function Ru(){const e=xe("vote-session",_e,{version:q,migrate:Qn});let t=_e;e.subscribe(l=>{t=l});const n=l=>{e.update(d=>({...d,mode:l,lastUpdated:x()}))},r=(l,d)=>{e.update(_=>{const m=_.entries[l]??{cityId:l,utility:null,probability:null,autoFilled:!1},z={...d};Object.prototype.hasOwnProperty.call(d,"utility")&&d.autoFilled===void 0&&(z.autoFilled=!1);const v={...m,...z};return{..._,entries:{..._.entries,[l]:v},lastUpdated:x()}})},o=l=>{e.update(d=>{if(!(l in d.entries))return d;const _={...d.entries};return delete _[l],{...d,entries:_,lastUpdated:x()}})},i=()=>{ju(t),e.set(_e)},a=l=>{e.set({...l,version:q,dismissedWarnings:l.dismissedWarnings??{}})},s=()=>{const l=Yt();return l?(e.set({...l,version:q,lastUpdated:x(),dismissedWarnings:l.dismissedWarnings??{}}),!0):!1},c=()=>Yt()!==null,u=l=>{l&&e.update(d=>d.dismissedWarnings[l]?d:{...d,dismissedWarnings:{...d.dismissedWarnings,[l]:x()},lastUpdated:x()})},f=l=>{l.length&&e.update(d=>{let _=!1;const m={...d.dismissedWarnings};for(const z of l)z in m&&(delete m[z],_=!0);return _?{...d,dismissedWarnings:m,lastUpdated:x()}:d})};return{subscribe:e.subscribe,setMode:n,updateEntry:r,resetCity:o,clear:i,replace:a,getSnapshot:()=>t,importPrevious:s,hasPrevious:c,applyAutoFill:l=>{e.update(d=>{let _=!1;const m={...d.entries};for(const[z,v]of Object.entries(l)){if(v===null||Number.isNaN(v))continue;const y=m[z]??{cityId:z,utility:null,probability:null,autoFilled:!1};(y.autoFilled===!0||y.utility===null)&&(y.utility===v&&y.autoFilled===!0||(m[z]={...y,utility:v,autoFilled:!0},_=!0))}return _?{...d,entries:m,lastUpdated:x()}:d})},dismissWarning:u,clearDismissedWarnings:f}}const F=Ru(),Ne="1";function yt(){return{coverage:{},peers:{},wins:{},losses:{}}}function Du(e){return e.reduce((t,n)=>er(t,n.cities,n.best,n.worst),yt())}function wt(){return{seed:null,triads:[],metrics:yt(),status:"idle",lastUpdated:null,version:Ne}}const Gt=wt(),Nu=gt(Ne,[],()=>wt());function pe(){return new Date().toISOString()}function er(e,t,n,r){const o={...e.coverage},i={...e.wins},a={...e.losses},s={};for(const u of Object.keys(e.peers))s[u]=new Set(e.peers[u]);t.forEach(u=>{o[u]=(o[u]??0)+1;const f=s[u]??new Set;t.forEach(l=>{l!==u&&f.add(l)}),s[u]=f}),n&&(i[n]=(i[n]??0)+1),r&&(a[r]=(a[r]??0)+1);const c={};return Object.entries(s).forEach(([u,f])=>{c[u]=Array.from(f)}),{coverage:o,peers:c,wins:i,losses:a}}function Cu(){const e=xe("triad-session",Gt,{version:Ne,migrate:Nu});let t=Gt;e.subscribe(u=>{t=u});const n=u=>{e.update(f=>({...f,seed:u,status:"running",triads:[],metrics:yt(),lastUpdated:pe()}))},r=u=>{e.update(f=>({...f,seed:u,lastUpdated:pe()}))},o=u=>{const f={...u,timestamp:pe()};e.update(l=>{const d=[...l.triads,f],_=er(l.metrics,u.cities,u.best,u.worst);return{...l,triads:d,metrics:_,lastUpdated:f.timestamp}})},i=()=>{e.update(u=>{if(u.triads.length===0)return u;const f=u.triads.slice(0,-1);return{...u,triads:f,metrics:Du(f),lastUpdated:pe()}})},a=()=>{e.update(u=>({...u,status:"complete",lastUpdated:pe()}))},s=()=>{const u=wt();e.set(u)},c=u=>{e.set({...u,version:Ne})};return{subscribe:e.subscribe,start:n,setSeed:r,record:o,removeLast:i,markComplete:a,reset:s,replace:c,getSnapshot:()=>t}}const tr=Cu(),Lu=100,Fu="1",Uu="command-history",ie={past:[],future:[]};function B(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}function qt(e){const t={};return e.includes("vote")&&(t.vote=B(F.getSnapshot())),e.includes("triad")&&(t.triad=B(tr.getSnapshot())),t}function Xt(e){e.vote&&F.replace(B(e.vote)),e.triad&&tr.replace(B(e.triad))}function at(e){return!e||e.length===0?["vote"]:Array.from(new Set(e))}function Qt(e){return Array.isArray(e)&&e.every(t=>t==="vote"||t==="triad")}function $e(e){return e!==null&&typeof e=="object"}function Mu(e){return{past:e.past.map(t=>({label:t.label,scope:[...t.scope],before:t.before?B(t.before):{},after:t.after?B(t.after):{}})),future:e.future.map(t=>({label:t.label,scope:[...t.scope],before:t.before?B(t.before):{},after:t.after?B(t.after):{}}))}}function Vu(e){return JSON.stringify(Mu(e))}function xu(e){if(!e)return ie;try{const t=JSON.parse(e),n=Array.isArray(t?.past)?t.past:[],r=Array.isArray(t?.future)?t.future:[];return{past:n.map(o=>{const i=o,a=Qt(i.scope)?i.scope:void 0;return{label:typeof i.label=="string"?i.label:"unknown-command",scope:at(a),before:$e(i.before)?i.before:{},after:$e(i.after)?i.after:{}}}),future:r.map(o=>{const i=o,a=Qt(i.scope)?i.scope:void 0;return{label:typeof i.label=="string"?i.label:"unknown-command",scope:at(a),before:$e(i.before)?i.before:{},after:$e(i.after)?i.after:{}}})}}catch(t){return console.warn("Failed to parse command history",t),ie}}function Wu(e={}){const{capacity:t=Lu}=e,n=xe(Uu,ie,{version:Fu,serialize:Vu,deserialize:xu});let r=ie;const o=K(r);n.subscribe(l=>{r=l??ie,o.set(r)});function i(l){r=l,n.set(l),o.set(l)}function a(l){const d=at(l.scope),_=qt(d);l.perform();const m=qt(d),z={label:l.label,scope:d,before:_,after:m},v=[...r.past,z].slice(-t);i({past:v,future:[]})}function s(){if(r.past.length===0)return;const l=r.past[r.past.length-1];Xt(l.before);const d=r.past.slice(0,-1),_=[l,...r.future].slice(0,t);i({past:d,future:_})}function c(){if(r.future.length===0)return;const[l,...d]=r.future;Xt(l.after);const _=[...r.past,l].slice(-t);i({past:_,future:d})}function u(){i(ie)}function f(){const l=r.past.slice(-t);l.length!==r.past.length||r.future.length>0?i({past:l,future:[]}):o.set(r)}return{subscribe:o.subscribe,set:l=>i(l),update:l=>{const d=l(r);i(d)},execute:a,undo:s,redo:c,clear:u,restore:f}}const Bu=Wu(),nr="1",rr={countryKey:null,preferredMode:null,showTutorial:!0,autoplayImages:!0,lastExportedState:null},Hu=gt(nr,[],()=>rr),Ju=xe("app-settings",rr,{version:nr,migrate:Hu});function Ku(e,t){const n=new Map;for(const o of e){const i=t.entries[o.id],a=n.get(o.continent)??{utilitySum:0,utilityCount:0,probabilitySum:0,probabilityCount:0,cityCount:0};a.cityCount+=1;const s=i?.utility;typeof s=="number"&&Number.isFinite(s)&&(a.utilitySum+=s,a.utilityCount+=1);const c=i?.probability;typeof c=="number"&&Number.isFinite(c)&&(a.probabilitySum+=c,a.probabilityCount+=1),n.set(o.continent,a)}const r={};for(const[o,i]of n)r[o]={utility:i.utilityCount>0?i.utilitySum/i.utilityCount:null,utilitySample:i.utilityCount,probability:i.probabilityCount>0?i.probabilitySum/i.probabilityCount:null,probabilitySample:i.probabilityCount,cityCount:i.cityCount};return r}const Yu=ce([te,F],([e,t])=>Ku(e,t)),en=10;function Gu(e,t,n){if(t!==null&&n!==null){const r=Math.round(Math.max(t,n));return`⚠ Utilities and probabilities for your ${e} cities differ by ~${r} points.`}return t!==null?`⚠ Favorability is about ${Math.round(t)} points away from your other ${e} picks.`:n!==null?`⚠ Probability is about ${Math.round(n)} points away from your other ${e} picks.`:`⚠ Much higher/lower than your other ${e} cities.`}function qu(e,t,n){const r=[];for(const o of e){const i=t.entries[o.id];if(!i)continue;const a=n[o.continent];if(!a)continue;const s=i.utility===null||a.utility===null?null:Math.abs(i.utility-a.utility),c=i.probability===null||a.probability===null?null:Math.abs(i.probability-a.probability),u=s!==null&&s>en,f=c!==null&&c>en;!u&&!f||r.push({id:`outlier-${o.id}`,cityId:o.id,level:"warning",message:Gu(o.continent,u?s:null,f?c:null)})}return r}const Xu=80,Qu=30,ec=80,tc=30;function nc(e,t){const n=[];for(const r of e){const o=t.entries[r.id];if(!o)continue;const{utility:i,probability:a}=o;i!==null&&a!==null&&(i>=Xu&&a<=tc?n.push({id:`love-risk-${r.id}`,cityId:r.id,level:"warning",message:"⚠ Love it but unlikely to go — keep?"}):i<=Qu&&a>=ec&&n.push({id:`meh-commit-${r.id}`,cityId:r.id,level:"warning",message:"🤔 Likely to attend a place you don’t enjoy — keep?"}))}return n}const rc=90,oc=30;function ic(e,t){const n=e.map(s=>({city:s,utility:t.entries[s.id]?.utility??null})).filter(s=>typeof s.utility=="number").sort((s,c)=>c.utility-s.utility);if(n.length<2)return[];const r=n[0],o=n[1],i=r.utility,a=o.utility;return i<rc?[]:i-a<oc?[]:[{id:`dominant-${r.city.id}`,cityId:r.city.id,level:"info",message:"ℹ One city is far ahead of the rest — double-check your balance."}]}const tn={critical:0,warning:1,info:2};function ac(){const e=K([]),t=new Map;let n=[];const r=new Map;let o=0,i=new Set;const a=f=>f.id?f.id:`${f.level}:${f.message}`,s=f=>{const l=new Set,d=f.map(_=>{const m=a(_);return l.add(m),r.has(m)||(o+=1,r.set(m,o)),{..._,seenAt:r.get(m)}});for(const _ of Array.from(r.keys()))l.has(_)||r.delete(_);return d},c=f=>[...f].sort((l,d)=>{const _=(tn[l.level]??Number.POSITIVE_INFINITY)-(tn[d.level]??Number.POSITIVE_INFINITY);if(_!==0)return _;const m=(d.seenAt??0)-(l.seenAt??0);return m!==0?m:l.message.localeCompare(d.message)}),u=()=>{const l=[...Array.from(t.values()).flat(),...n],d=new Set(l.map(v=>v.id)),_=Array.from(i).filter(v=>!d.has(v));_.length>0&&(_.forEach(v=>i.delete(v)),F.clearDismissedWarnings(_));const m=l.filter(v=>!i.has(v.id)),z=s(m);e.set(c(z))};return F.subscribe(f=>{i=new Set(Object.keys(f.dismissedWarnings??{})),u()}),{subscribe:e.subscribe,set:f=>{n=f,u()},update:f=>{n=f([...n]),u()},clear:()=>{n=[],u()},add:f=>{n=[f,...n],u()},_setComputed:(f,l)=>{l.length===0?t.delete(f):t.set(f,l),u()},dismiss:f=>{F.dismissWarning(f)},resetCity:f=>{if(!f)return;const l=Array.from(i).filter(d=>d?.includes(f));l.length!==0&&(l.forEach(d=>i.delete(d)),F.clearDismissedWarnings(l),u())}}}const We=ac(),sc=ce([te,F,Yu],([e,t,n])=>qu(e,t,n));sc.subscribe(e=>We._setComputed("outliers",e));const uc=ce([te,F],([e,t])=>nc(e,t));uc.subscribe(e=>We._setComputed("attendance",e));const cc=ce([te,F],([e,t])=>ic(e,t));cc.subscribe(e=>We._setComputed("dominant",e));const lc=24.4;function fc(e){const t=e?.utility??null,n=e?.probability??null,r=t===null||n===null;if(r||t===null||n===null)return{utility:t,probability:n,att:null,eu:null,tew:null,hasPlaceholder:r};const o=n/100,i=o*t,a=i+lc*o;return{utility:t,probability:n,att:o,eu:i,tew:a,hasPlaceholder:r}}const Oc=ce([te,F],([e,t])=>e.map(n=>{const r=t.entries[n.id],o=fc(r);return{city:n,...o}}),[]);function dc(e,t){return e.map(n=>{const r=t.entries[n.id],o=typeof r?.utility=="number"?r.utility:"??",i=typeof r?.probability=="number"?r.probability:"??";return[o,i]})}function pc(e){return JSON.stringify(e,null,2)}const Pc=ce([te,F],([e,t])=>{const n=dc(e,t),r=pc(n);return{payload:n,json:r}}),nn={sidebarOpen:!0,showFocusRing:!1,resultPaneCollapsed:!1,enableScrollSnap:!0,lastFocusedId:null};function mc(){const{subscribe:e,update:t,set:n}=K(nn);return{subscribe:e,set:n,toggleSidebar:()=>t(r=>({...r,sidebarOpen:!r.sidebarOpen})),setSidebar:r=>t(o=>({...o,sidebarOpen:r})),setFocusRing:r=>t(o=>({...o,showFocusRing:r})),setResultPaneCollapsed:r=>t(o=>({...o,resultPaneCollapsed:r})),setScrollSnap:r=>t(o=>({...o,enableScrollSnap:r})),setLastFocusedId:r=>t(o=>({...o,lastFocusedId:r})),reset:()=>n(nn)}}mc();const{subscribe:hc,set:Te}=K(""),_c={subscribe:hc,announce(e){if(typeof requestAnimationFrame=="function"){Te(""),requestAnimationFrame(()=>Te(e));return}Te(""),Te(e)}};function jc(e){_c.announce(e)}const st=6e3;function vc(){const{subscribe:e,update:t}=K([]),n=new Map;function r(a,s){const c=setTimeout(()=>o(a),s);n.set(a,c)}function o(a){t(c=>c.filter(u=>u.id!==a));const s=n.get(a);s&&(clearTimeout(s),n.delete(a))}function i(a,s="info",c=st){const u=`toast-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,8)}`,f={id:u,message:a,level:s,duration:c,createdAt:Date.now()};return t(l=>[f,...l]),r(u,c),u}return{subscribe:e,push:i,pushError(a,s=st){return i(a,"error",s)},dismiss:o}}const or=vc(),Rc=(e,t=st)=>or.pushError(e,t),Dc=e=>or.dismiss(e);function gc(){const{subscribe:e,update:t,set:n}=K({});return{subscribe:e,set:n,start(r,o=1e4){t(i=>({...i,[r]:{index:i[r]?.index??0,running:!0,intervalMs:o}}))},stop(r){t(o=>o[r]?{...o,[r]:{...o[r],running:!1}}:o)},advance(r,o){o<=0||t(i=>{const a=i[r];return a?{...i,[r]:{...a,index:(a.index+1)%o}}:i})},setIndex(r,o){t(i=>{const a=i[r]??{index:0,running:!1,intervalMs:1e4};return{...i,[r]:{...a,index:o}}})},clear(){n({})}}}gc();let ir=[];te.subscribe(e=>{ir=e});let rn=0,on=null;Ju.subscribe(e=>{const t=e.countryKey;t&&t!==on&&(on=t,bc(t))});async function bc(e){const t=++rn;try{const n=await Su(e);if(t!==rn)return 0;const r=F.getSnapshot(),o=ir.map(i=>{const a=r.entries[i.id],s=n[i.continent];return{cityId:i.id,continent:i.continent,previous:a,target:s}}).filter(({previous:i,target:a})=>a==null?!1:(i?.probability??null)!==a);return o.length===0?0:(Bu.execute({label:`Autofill probabilities (${e.toUpperCase()})`,scope:["vote"],perform:()=>{for(const i of o)F.updateEntry(i.cityId,{probability:i.target}),We.resetCity?.(i.cityId)}}),o.length)}catch(n){console.error("Failed to prefill probability defaults",n)}return 0}const Nc=K(!1);export{Zc as A,Gr as a,kc as b,Yr as c,Dc as d,Pc as e,Ju as f,jc as g,Ic as h,Nc as i,qr as j,Sc as k,_c as l,Bu as m,te as n,Ec as o,Rc as p,Ac as q,Oc as r,Pe as s,or as t,Tc as u,F as v,Hr as w,tr as x,$c as y,bu as z};
